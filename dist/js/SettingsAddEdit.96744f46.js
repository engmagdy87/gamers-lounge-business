(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["SettingsAddEdit"],{"0203":function(e,t,i){},1485:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"preview-image"},[e.disabled?e._e():i("div",{staticClass:"close",attrs:{role:"button"},on:{click:e.fireDeleteModal}},[e._v(" × ")]),i("img",{attrs:{src:e.image.url,alt:"preview"}})])},n=[],r={props:["image","setShowDeleteDialogFlag","openedFor","imageIndex","disabled"],methods:{fireDeleteModal:function(){this.setShowDeleteDialogFlag(!0,this.image.id,this.openedFor,this.imageIndex,"image")}}},a=r,o=(i("19cf"),i("2877")),c=Object(o["a"])(a,s,n,!1,null,"1f659b06",null);t["a"]=c.exports},"19cf":function(e,t,i){"use strict";i("0203")},2865:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isSettingsFetched?i("div",[i("div",{staticClass:"row"},[e._m(0),i("div",{staticClass:"col-6"},[i("button",{staticClass:"btn btn-secondary d-block ml-auto heading-margin-title",staticStyle:{"margin-bottom":"10px !important"},attrs:{type:"button"},on:{click:e.toggleEditMode}},[e._v(" "+e._s(e.editMode?"Exit Edit Mode":"Edit Settings Data")+" ")])])]),i("form",[i("div",{staticClass:"row"},[i("div",{staticClass:"col-12 col-md-6"},[i("base-input",{attrs:{type:"text",label:"Title",placeholder:"Enter Title",autofocus:!0,disabled:!e.editMode},model:{value:e.settings.title,callback:function(t){e.$set(e.settings,"title",t)},expression:"settings.title"}})],1)]),i("div",{staticClass:"row"},[i("div",{staticClass:"col"},[i("div",{staticClass:"form-group"},[i("label",[e._v("Description")]),e.editMode?i("vue-pell-editor",{staticClass:"about-dashboard",attrs:{actions:e.editorOptions,"style-with-css":!1,placeholder:""},model:{value:e.settings.description,callback:function(t){e.$set(e.settings,"description",t)},expression:"settings.description"}}):i("div",{staticClass:"description",domProps:{innerHTML:e._s(e.settings.description)}})],1)])]),i("div",{staticClass:"row mt-3 mb-3"},[i("div",{staticClass:"col"},[i("div",[i("label",{staticClass:"mr-5",attrs:{for:"logo"}},[e._v("Choose Services Cover Image")]),i("input",{ref:"img_services_cover",attrs:{type:"file",id:"logo",accept:"image/png, image/jpeg",disabled:!e.editMode},on:{change:function(t){return e.setFile(t,"img_services_cover")}}}),i("br"),""!==e.settings.img_services_cover&&null!==e.settings.img_services_cover&&void 0!==e.settings.img_services_cover.url?i("ImagePreview",{attrs:{image:e.settings.img_services_cover,setShowDeleteDialogFlag:e.setImageDataFlag,openedFor:"img_services_cover",disabled:!e.editMode}}):e._e()],1)])]),i("div",{staticClass:"row mt-3 mb-3"},[i("div",{staticClass:"col"},[i("div",[i("label",{staticClass:"mr-5",attrs:{for:"logo"}},[e._v("Choose Home Cover Image")]),i("input",{ref:"img_home_cover",attrs:{type:"file",id:"logo",accept:"image/png, image/jpeg",disabled:!e.editMode},on:{change:function(t){return e.setFile(t,"img_home_cover")}}}),i("br"),""!==e.settings.img_home_cover&&null!==e.settings.img_home_cover&&void 0!==e.settings.img_home_cover.url?i("ImagePreview",{attrs:{image:e.settings.img_home_cover,setShowDeleteDialogFlag:e.setImageDataFlag,openedFor:"img_home_cover",disabled:!e.editMode}}):e._e()],1)])]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-12",staticStyle:{height:"60px"}},[i("div",{staticClass:"text-center"},[i("button",{directives:[{name:"show",rawName:"v-show",value:e.editMode,expression:"editMode"}],staticClass:"btn btn-info btn-fill float-right mt-2",attrs:{type:"button"},on:{click:e.saveData}},[e._v(" Save ")])])])])]),i("DeleteDialog",{attrs:{showFlag:e.showFlag,item:"Image",deleteAction:e.removeImage,setShowDeleteDialogFlag:e.setImageDataFlag}})],1):e._e()},n=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"col-6 m-auto"},[i("h2",{staticClass:"heading-margin heading-margin-sections",staticStyle:{margin:"0 0 40px 0 !important"}},[e._v(" Settings ")])])}],r=(i("8e6e"),i("ac6a"),i("cadf"),i("456d"),i("96cf"),i("3b8d")),a=i("bd86"),o=i("2f62"),c=i("a923"),l=i("50e7"),g=i("1485"),u=i("62c4"),d=i("bcb6"),m=i("6e87");function v(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function h(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?v(Object(i),!0).forEach((function(t){Object(a["a"])(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):v(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var f={title:"",description:"",img_services_cover:"",img_home_cover:""},p={data:function(){return{settings:h({},f),openedFor:"",showFlag:!1,editMode:!1,imageId:null,errors:{},validation:{title:{isRequired:!1},description:{isRequired:!1},"home cover image":{isRequired:!1},"serives cover image":{isRequired:!1}},aliases:{title:"title",description:"description",img_home_cover:"home cover image",img_services_cover:"serives cover image"},editorOptions:c["a"]}},computed:h({},Object(o["d"])({settingsData:function(e){return e.settings.settings},isSettingsFetched:function(e){return e.settings.isSettingsDataFetched}})),watch:{settingsData:function(){this.settingsData&&(this.settings.title=this.settingsData.services_title||"",this.settings.description=this.settingsData.services_description||"",this.settings.img_home_cover=this.settingsData.img_home_cover||"",this.settings.img_services_cover=this.settingsData.img_services_cover||"")}},methods:h(h({},Object(o["b"])({fetchSettings:m["a"].settings.actions.FETCH_SETTINGS,createSettings:m["a"].settings.actions.CREATE_SETTING,updateSettings:m["a"].settings.actions.UPDATE_SETTING,deleteImage:m["a"].app.actions.DELETE_IMAGE})),{},{toggleEditMode:function(){this.editMode=!this.editMode},setImageDataFlag:function(e,t,i){this.showFlag=e,this.imageId=t,this.openedFor=i},saveData:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,i,s,n,r,a,o,c,l,g,m,v,f,p,_,b,w=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=Object(u["a"])(this.settings,this.aliases,this.validation),this.errors=h({},i.errors),0===i.length){e.next=4;break}return e.abrupt("return");case 4:if(e.prev=4,s={services_title:this.settings.title,services_description:Object(d["d"])(this.settings.description)},0===Object.keys(this.settingsData).length){e.next=18;break}return n={},r=this.settings,a=r.img_home_cover,o=r.img_services_cover,a.url||""===a||(n=h(h({},n),{},{img_home_cover:a})),o.url||""===o||(n=h(h({},n),{},{img_services_cover:o})),Object.keys(n).length>0&&(s=h(h({},s),{},{imagesData:n})),e.next=14,this.updateSettings(h(h({},s),{},{id:this.settingsData.id}));case 14:t=e.sent,this.notifyVue("Settings Updated Successfully","success"),e.next=27;break;case 18:return c={},l=this.settings,g=l.img_home_cover,m=l.img_services_cover,g.url||""===g||(c=h(h({},c),{},{img_home_cover:g})),m.url||""===m||(c=h(h({},c),{},{img_services_cover:m})),Object.keys(c).length>0&&(s=h(h({},s),{},{imagesData:c})),e.next=25,this.createSettings(s);case 25:t=e.sent,this.notifyVue("Settings Created Successfully","success");case 27:this.editMode=!1,this.errors={},v=t,f=v.img_home_cover,p=v.img_services_cover,_=v.services_title,b=v.services_description,this.$refs.img_home_cover.value=null,this.$refs.img_services_cover.value=null,this.settings={title:_,description:b,img_home_cover:f,img_services_cover:p},e.next=38;break;case 35:e.prev=35,e.t0=e["catch"](4),JSON.parse(e.t0).forEach((function(e){w.notifyVue(e.message,"danger")}));case 38:case"end":return e.stop()}}),e,this,[[4,35]])})));function t(){return e.apply(this,arguments)}return t}(),removeImage:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.deleteImage(this.imageId);case 2:e.t0=this.openedFor,e.next="img_home_cover"===e.t0?5:"img_services_cover"===e.t0?9:13;break;case 5:return this.settingsData.img_home_cover="",this.settings.img_home_cover="",this.$refs.img_home_cover.value=null,e.abrupt("break",14);case 9:return this.settingsData.img_services_cover="",this.settings.img_services_cover="",this.$refs.img_services_cover.value=null,e.abrupt("break",14);case 13:return e.abrupt("break",14);case 14:this.notifyVue("Image Deleted Successfully","success"),this.setImageDataFlag(!1,null,"",null);case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),setFile:function(e,t){var i=e.target.files;i.length&&(this.settings[t]=i[0])},isSettingsDataExists:function(){return 0===Object.keys(this.settingsData).length},notifyVue:function(e,t){this.$notifications.notify({message:"<span>".concat(e,"</span>"),horizontalAlign:"right",verticalAlign:"top",type:t})}}),mounted:function(){var e={isService:!0,isHome:!0,isProfile:!0,isServiceTexts:!0};this.fetchSettings(e)},updated:function(){this.isSettingsDataExists()&&(this.editMode=!0)},components:{DeleteDialog:l["a"],ImagePreview:g["a"]}},_=p,b=i("2877"),w=Object(b["a"])(_,s,n,!1,null,null,null);t["default"]=w.exports},"50e7":function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"delete-modal",style:e.showFlag?"display:block":"display:none",on:{click:function(t){return e.setShowDeleteDialogFlag(!1)}}},[i("div",{staticClass:"delete-modal-content",on:{click:function(e){e.stopPropagation()}}},[i("div",{staticClass:"delete-modal-header"},[i("span",{staticClass:"close",on:{click:function(t){return e.setShowDeleteDialogFlag(!1)}}},[e._v("×")]),i("h2",[e._v("Delete "+e._s(e.item))])]),i("div",{staticClass:"delete-modal-body"},[i("form",[i("div",{staticClass:"form-group delete-modal-body__text"},[i("p",[e._v("Do you want to delete this "+e._s(e.item.toLowerCase())+"?")])]),i("button",{staticClass:"btn float-right",attrs:{type:"button"},on:{click:function(t){return e.setShowDeleteDialogFlag(!1)}}},[e._v(" Cancel ")]),i("button",{staticClass:"btn btn-danger float-right",attrs:{type:"button"},on:{click:e.deleteAction}},[e._v(" Delete ")])])])])])},n=[],r={props:["showFlag","setShowDeleteDialogFlag","item","deleteAction"]},a=r,o=(i("f9a7"),i("2877")),c=Object(o["a"])(a,s,n,!1,null,"d3f2235c",null);t["a"]=c.exports},"62c4":function(e,t,i){"use strict";i("8e6e"),i("cadf"),i("456d"),i("ac6a");var s=i("bd86"),n=function(e){var t=/^([a-zA-Z0-9])(([a-zA-Z0-9])*([\._\+-])*([a-zA-Z0-9]))*@(([a-zA-Z0-9\-])+(\.))+([a-zA-Z]{2,4})+$/;return t.test(e)},r=n;function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){Object(s["a"])(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var c=function(e,t,i){var s=[];return""!==e&&"-1"!==e&&0!==e.length||!t.isRequired||s.push("".concat(i," is required")),e.length<t.minLength&&s.push("".concat(i," at least ").concat(t.minLength," character")),t.isEmail&&!r(e)&&s.push("Invalid email format"),t.isFile&&""===e&&s.push("Please choose proper file"),s},l=function(e,t,i,n){var r={};return r=o(o({},r),{},Object(s["a"])({},t,c(e,n[i],i))),r},g=function(e,t,i){var s={},n=0;return Object.keys(e).forEach((function(n){s=o(o({},s),l(e[n],n,t[n],i))})),Object.keys(s).forEach((function(e){return n+=s[e].length})),{errors:s,length:n}};t["a"]=g},"6c8e":function(e,t,i){},a923:function(e,t,i){"use strict";i("c5f6");var s=function(e){return document.queryCommandState(e)},n=function(e){return document.queryCommandValue(e)},r=["bold","italic","underline",{icon:'<img src="/images/increase_font.svg" />',title:"Increase Font Size",state:function(){return s("fontSize")},result:function(){return window.pell.exec("fontSize",Math.min(Number(n("FontSize"))+1,7))}},{icon:'<img src="/images/decrease_font.svg" />',title:"Decrease Font Size",state:function(){return s("fontSize")},result:function(){return window.pell.exec("fontSize",Math.max(Number(n("FontSize"))-1,1))}},{icon:'<i class="nc-icon nc-align-left-2"></i>',title:"Align Left",state:function(){return s("justifyLeft")},result:function(){return window.pell.exec("justifyLeft")}},{icon:'<i class="nc-icon nc-align-center"></i>',title:"Align Center",state:function(){return s("justifyCenter")},result:function(){return window.pell.exec("justifyCenter")}},{icon:'<i class="nc-icon nc-align-left-2" style="transform:rotateZ(180deg);margin-top:5px"></i>',title:"Align Right",state:function(){return s("justifyRight")},result:function(){return window.pell.exec("justifyRight")}},"olist","ulist",{name:"link",result:function(){var e=window.prompt("Enter the link URL");e&&window.pell.exec("createLink",e)}}];t["a"]=r},f9a7:function(e,t,i){"use strict";i("6c8e")}}]);
//# sourceMappingURL=SettingsAddEdit.96744f46.js.map