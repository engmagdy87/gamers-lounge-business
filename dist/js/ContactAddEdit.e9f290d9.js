(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ContactAddEdit"],{"0203":function(t,e,i){},1485:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"preview-image"},[t.disabled?t._e():i("div",{staticClass:"close",attrs:{role:"button"},on:{click:t.fireDeleteModal}},[t._v(" × ")]),i("img",{attrs:{src:t.image.url,alt:"preview"}})])},o=[],c={props:["image","setShowDeleteDialogFlag","openedFor","imageIndex","disabled"],methods:{fireDeleteModal:function(){this.setShowDeleteDialogFlag(!0,this.image.id,this.openedFor,this.imageIndex,"image")}}},n=c,s=(i("19cf"),i("2877")),r=Object(s["a"])(n,a,o,!1,null,"1f659b06",null);e["a"]=r.exports},"19cf":function(t,e,i){"use strict";i("0203")},"50e7":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"delete-modal",style:t.showFlag?"display:block":"display:none",on:{click:function(e){return t.setShowDeleteDialogFlag(!1)}}},[i("div",{staticClass:"delete-modal-content",on:{click:function(t){t.stopPropagation()}}},[i("div",{staticClass:"delete-modal-header"},[i("span",{staticClass:"close",on:{click:function(e){return t.setShowDeleteDialogFlag(!1)}}},[t._v("×")]),i("h2",[t._v("Delete "+t._s(t.item))])]),i("div",{staticClass:"delete-modal-body"},[i("form",[i("div",{staticClass:"form-group delete-modal-body__text"},[i("p",[t._v("Do you want to delete this "+t._s(t.item.toLowerCase())+"?")])]),i("button",{staticClass:"btn float-right",attrs:{type:"button"},on:{click:function(e){return t.setShowDeleteDialogFlag(!1)}}},[t._v(" Cancel ")]),i("button",{staticClass:"btn btn-danger float-right",attrs:{type:"button"},on:{click:t.deleteAction}},[t._v(" Delete ")])])])])])},o=[],c={props:["showFlag","setShowDeleteDialogFlag","item","deleteAction"]},n=c,s=(i("f9a7"),i("2877")),r=Object(s["a"])(n,a,o,!1,null,"d3f2235c",null);e["a"]=r.exports},"62c4":function(t,e,i){"use strict";i("8e6e"),i("cadf"),i("456d"),i("ac6a");var a=i("bd86"),o=function(t){var e=/^([a-zA-Z0-9])(([a-zA-Z0-9])*([\._\+-])*([a-zA-Z0-9]))*@(([a-zA-Z0-9\-])+(\.))+([a-zA-Z]{2,4})+$/;return e.test(t)},c=o;function n(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function s(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?n(Object(i),!0).forEach((function(e){Object(a["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var r=function(t,e,i){var a=[];return""!==t&&"-1"!==t&&0!==t.length||!e.isRequired||a.push("".concat(i," is required")),t.length<e.minLength&&a.push("".concat(i," at least ").concat(e.minLength," character")),e.isEmail&&!c(t)&&a.push("Invalid email format"),e.isFile&&""===t&&a.push("Please choose proper file"),a},l=function(t,e,i,o){var c={};return c=s(s({},c),{},Object(a["a"])({},e,r(t,o[i],i))),c},g=function(t,e,i){var a={},o=0;return Object.keys(t).forEach((function(o){a=s(s({},a),l(t[o],o,e[o],i))})),Object.keys(a).forEach((function(t){return o+=a[t].length})),{errors:a,length:o}};e["a"]=g},"6c8e":function(t,e,i){},"9e26":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isContactFetched?i("div",[i("div",{staticClass:"row"},[t._m(0),i("div",{staticClass:"col-6"},[i("button",{staticClass:"btn btn-secondary d-block ml-auto heading-margin-title",staticStyle:{"margin-bottom":"10px !important"},attrs:{type:"button"},on:{click:t.toggleEditMode}},[t._v(" "+t._s(t.editMode?"Exit Edit Mode":"Edit Contact Data")+" ")])])]),i("form",[i("div",{staticClass:"row"},[i("div",{staticClass:"col-12 col-md-4"},[i("base-input",{attrs:{type:"text",label:"Address",placeholder:"Enter Address",autofocus:!0,isRequired:!0,disabled:!t.editMode},model:{value:t.contact.address,callback:function(e){t.$set(t.contact,"address",e)},expression:"contact.address"}}),i("ErrorMessage",{attrs:{fieldErrors:t.errors.address}})],1),i("div",{staticClass:"col-12 col-md-4"},[i("base-input",{attrs:{type:"email",label:"Email",placeholder:"Enter Email",isRequired:!0,disabled:!t.editMode},model:{value:t.contact.email,callback:function(e){t.$set(t.contact,"email",e)},expression:"contact.email"}}),i("ErrorMessage",{attrs:{fieldErrors:t.errors.email}})],1),i("div",{staticClass:"col-12 col-md-4"},[i("base-input",{attrs:{type:"text",label:"Phone Number",placeholder:"Enter Phone",disabled:!t.editMode},model:{value:t.contact.phone,callback:function(e){t.$set(t.contact,"phone",e)},expression:"contact.phone"}})],1)]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-12 col-md-6"},[i("base-input",{attrs:{type:"text",label:"Facebook Link",placeholder:"Enter Facebook Link",disabled:!t.editMode},model:{value:t.contact.facebookLink,callback:function(e){t.$set(t.contact,"facebookLink",e)},expression:"contact.facebookLink"}})],1),i("div",{staticClass:"col-12 col-md-6"},[i("base-input",{attrs:{type:"text",label:"Instagram Link",placeholder:"Enter Instagram Link",disabled:!t.editMode},model:{value:t.contact.instagramLink,callback:function(e){t.$set(t.contact,"instagramLink",e)},expression:"contact.instagramLink"}})],1)]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-12 col-md-6"},[i("base-input",{attrs:{type:"text",label:"Twitter Link",placeholder:"Enter Twitter Link",disabled:!t.editMode},model:{value:t.contact.twitterLink,callback:function(e){t.$set(t.contact,"twitterLink",e)},expression:"contact.twitterLink"}})],1),i("div",{staticClass:"col-12 col-md-6"},[i("base-input",{attrs:{type:"text",label:"Youtube Link",placeholder:"Enter Youtube Link",disabled:!t.editMode},model:{value:t.contact.youtubeLink,callback:function(e){t.$set(t.contact,"youtubeLink",e)},expression:"contact.youtubeLink"}})],1)]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-12 col-md-6"},[i("base-input",{attrs:{type:"url",label:"Google Maps Link",placeholder:"Enter Google Maps Link",disabled:!t.editMode},model:{value:t.contact.googleMapsLink,callback:function(e){t.$set(t.contact,"googleMapsLink",e)},expression:"contact.googleMapsLink"}})],1),i("div",{staticClass:"col-12 col-md-6"},[i("base-input",{attrs:{type:"text",label:"Twitch Link",placeholder:"Enter Twitch Link",disabled:!t.editMode},model:{value:t.contact.twitchLink,callback:function(e){t.$set(t.contact,"twitchLink",e)},expression:"contact.twitchLink"}})],1)]),i("div",{staticClass:"row mt-3 mb-3"},[i("div",{staticClass:"col"},[i("div",[t._m(1),i("input",{ref:"img_cover",attrs:{type:"file",id:"logo",accept:"image/png, image/jpeg",disabled:!t.editMode},on:{change:function(e){return t.setFile(e,"img_cover")}}}),i("br"),""!==t.contact.img_cover&&null!==t.contact.img_cover&&void 0!==t.contact.img_cover.url?i("ImagePreview",{attrs:{image:t.contact.img_cover,setShowDeleteDialogFlag:t.setImageDataFlag,openedFor:"img_cover",disabled:!t.editMode}}):t._e(),i("ErrorMessage",{attrs:{fieldErrors:t.errors.img_cover}})],1)])]),i("div",{staticClass:"row mt-3 mb-3"},[i("div",{staticClass:"col"},[i("div",[i("label",{staticClass:"mr-5",attrs:{for:"logo"}},[t._v("Choose Facebook Image")]),i("input",{ref:"img_facebook",attrs:{type:"file",id:"logo",accept:"image/png, image/jpeg",disabled:!t.editMode},on:{change:function(e){return t.setFile(e,"img_facebook")}}}),i("br"),""!==t.contact.img_facebook&&null!==t.contact.img_facebook&&void 0!==t.contact.img_facebook.url?i("ImagePreview",{attrs:{image:t.contact.img_facebook,setShowDeleteDialogFlag:t.setImageDataFlag,openedFor:"img_facebook",disabled:!t.editMode}}):t._e()],1)])]),i("div",{staticClass:"row mt-3 mb-3"},[i("div",{staticClass:"col"},[i("div",[i("label",{staticClass:"mr-5",attrs:{for:"logo"}},[t._v("Choose Twitter Image")]),i("input",{ref:"img_twitter",attrs:{type:"file",id:"logo",accept:"image/png, image/jpeg",disabled:!t.editMode},on:{change:function(e){return t.setFile(e,"img_twitter")}}}),i("br"),""!==t.contact.img_twitter&&null!==t.contact.img_twitter&&void 0!==t.contact.img_twitter.url?i("ImagePreview",{attrs:{image:t.contact.img_twitter,setShowDeleteDialogFlag:t.setImageDataFlag,openedFor:"img_twitter",disabled:!t.editMode}}):t._e()],1)])]),i("div",{staticClass:"row mt-3 mb-3"},[i("div",{staticClass:"col"},[i("div",[i("label",{staticClass:"mr-5",attrs:{for:"logo"}},[t._v("Choose Twitch Image")]),i("input",{ref:"img_twitch",attrs:{type:"file",id:"logo",accept:"image/png, image/jpeg",disabled:!t.editMode},on:{change:function(e){return t.setFile(e,"img_twitch")}}}),i("br"),""!==t.contact.img_twitch&&null!==t.contact.img_twitch&&void 0!==t.contact.img_twitch.url?i("ImagePreview",{attrs:{image:t.contact.img_twitch,setShowDeleteDialogFlag:t.setImageDataFlag,openedFor:"img_twitch",disabled:!t.editMode}}):t._e()],1)])]),i("div",{staticClass:"row mt-3 mb-3"},[i("div",{staticClass:"col"},[i("div",[i("label",{staticClass:"mr-5",attrs:{for:"logo"}},[t._v("Choose Instagram Image")]),i("input",{ref:"img_instagram",attrs:{type:"file",id:"logo",accept:"image/png, image/jpeg",disabled:!t.editMode},on:{change:function(e){return t.setFile(e,"img_instagram")}}}),i("br"),""!==t.contact.img_instagram&&null!==t.contact.img_instagram&&void 0!==t.contact.img_instagram.url?i("ImagePreview",{attrs:{image:t.contact.img_instagram,setShowDeleteDialogFlag:t.setImageDataFlag,openedFor:"img_instagram",disabled:!t.editMode}}):t._e()],1)])]),i("div",{staticClass:"row mt-3 mb-3"},[i("div",{staticClass:"col"},[i("div",[i("label",{staticClass:"mr-5",attrs:{for:"logo"}},[t._v("Choose Youtube Image")]),i("input",{ref:"img_youtube",attrs:{type:"file",id:"logo",accept:"image/png, image/jpeg",disabled:!t.editMode},on:{change:function(e){return t.setFile(e,"img_youtube")}}}),i("br"),""!==t.contact.img_youtube&&null!==t.contact.img_youtube&&void 0!==t.contact.img_youtube.url?i("ImagePreview",{attrs:{image:t.contact.img_youtube,setShowDeleteDialogFlag:t.setImageDataFlag,openedFor:"img_youtube",disabled:!t.editMode}}):t._e()],1)])]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-12",staticStyle:{height:"60px"}},[i("div",{staticClass:"text-center"},[i("button",{directives:[{name:"show",rawName:"v-show",value:t.editMode,expression:"editMode"}],staticClass:"btn btn-info btn-fill float-right mt-2",attrs:{type:"button"},on:{click:t.saveData}},[t._v(" Save ")])])])])]),i("DeleteDialog",{attrs:{showFlag:t.showFlag,item:"Image",deleteAction:t.removeImage,setShowDeleteDialogFlag:t.setImageDataFlag}})],1):t._e()},o=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col-6 m-auto"},[i("h2",{staticClass:"heading-margin heading-margin-sections",staticStyle:{margin:"0 0 40px 0 !important"}},[t._v(" Contact Us ")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{staticClass:"mr-5",attrs:{for:"logo"}},[t._v("Choose Cover Image"),i("span",{staticClass:"error-message"},[t._v(" *")])])}],c=(i("8e6e"),i("a8db")),n=(i("ac6a"),i("cadf"),i("456d"),i("96cf"),i("3b8d")),s=i("bd86"),r=i("2f62"),l=i("ede8"),g=i("50e7"),u=i("1485"),m=i("62c4"),d=i("6e87");function h(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function b(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?h(Object(i),!0).forEach((function(e){Object(s["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var p={address:"",email:"",phone:"",facebookLink:"",instagramLink:"",twitterLink:"",twitchLink:"",youtubeLink:"",googleMapsLink:"",img_cover:"",img_facebook:"",img_twitter:"",img_twitch:"",img_instagram:"",img_youtube:""},f={data:function(){return{contact:b({},p),openedFor:"",showFlag:!1,editMode:!1,imageId:null,errors:{},validation:{address:{isRequired:!0},email:{isRequired:!0,isEmail:!0},phone:{isRequired:!1},facebookLink:{isRequired:!1},instagramLink:{isRequired:!1},twitterLink:{isRequired:!1},twitchLink:{isRequired:!1},youtubeLink:{isRequired:!1},googleMapsLink:{isRequired:!1},img_facebook:{isRequired:!1},img_twitter:{isRequired:!1},img_twitch:{isRequired:!1},img_instagram:{isRequired:!1},img_youtube:{isRequired:!1},"cover image":{isRequired:!0}},aliases:{address:"address",email:"email",phone:"phone",facebookLink:"facebookLink",instagramLink:"instagramLink",twitterLink:"twitterLink",twitchLink:"twitchLink",youtubeLink:"youtubeLink",googleMapsLink:"googleMapsLink",img_facebook:"img_facebook",img_twitter:"img_twitter",img_twitch:"img_twitch",img_instagram:"img_instagram",img_youtube:"img_youtube",img_cover:"cover image"}}},computed:b({},Object(r["d"])({contactData:function(t){return t.contact.contact},isContactFetched:function(t){return t.contact.isContactFetched}})),watch:{contactData:function(){var t=this.contactData.information;if(t){var e=t.address,i=t.email,a=t.phone,o=t.facebook_link,c=t.instagram_link,n=t.twitter_link,s=t.twitch_link,r=t.youtube_link;this.contact.address=e||"",this.contact.email=i||"",this.contact.phone=a||"",this.contact.facebookLink=o||"",this.contact.instagramLink=c||"",this.contact.twitterLink=n||"",this.contact.twitchLink=s||"",this.contact.youtubeLink=r||""}this.contact.googleMapsLink=this.contactData.map||"",this.contact.img_cover=this.contactData.img_cover||"",this.contact.img_facebook=this.contactData.img_facebook||"",this.contact.img_twitter=this.contactData.img_twitter||"",this.contact.img_twitch=this.contactData.img_twitch||"",this.contact.img_instagram=this.contactData.img_instagram||"",this.contact.img_youtube=this.contactData.img_youtube||""}},methods:b(b({},Object(r["b"])({fetchContact:d["a"].contact.actions.FETCH_CONTACT,createContact:d["a"].contact.actions.CREATE_CONTACT,updateContact:d["a"].contact.actions.UPDATE_CONTACT,deleteImage:d["a"].app.actions.DELETE_IMAGE})),{},{toggleEditMode:function(){this.editMode=!this.editMode},setImageDataFlag:function(t,e,i){this.showFlag=t,this.imageId=e,this.openedFor=i},saveData:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,i,a,o,n,s,r,l,g,u,d,h,p,f,_,v,k,w,y,C,D,L,O,F,E,M,j,x,I,$,P,S=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=Object(m["a"])(this.contact,this.aliases,this.validation),this.errors=b({},i.errors),0===i.length){t.next=4;break}return t.abrupt("return");case 4:if(t.prev=4,a={address:this.contact.address,email:this.contact.email,phone:this.contact.phone,facebookLink:this.contact.facebookLink,instagramLink:this.contact.instagramLink,twitterLink:this.contact.twitterLink,twitchLink:this.contact.twitchLink,youtubeLink:this.contact.youtubeLink,map:this.contact.googleMapsLink},0===Object.keys(this.contactData).length){t.next=22;break}return o={},n=this.contact,s=n.img_cover,r=n.img_facebook,l=n.img_twitter,g=n.img_twitch,u=n.img_instagram,d=n.img_youtube,s.url||""===s||(o=b(b({},o),{},{img_cover:s})),r.url||""===r||(o=b(b({},o),{},{img_facebook:r})),l.url||""===l||(o=b(b({},o),{},{img_twitter:l})),g.url||""===g||(o=b(b({},o),{},{img_twitch:g})),u.url||""===u||(o=b(b({},o),{},{img_instagram:u})),d.url||""===d||(o=b(b({},o),{},{img_youtube:d})),Object.keys(o).length>0&&(a=b(b({},a),{},{imagesData:o})),t.next=18,this.updateContact(b(b({},a),{},{id:this.contactData.id}));case 18:e=t.sent,this.notifyVue("Contact Updated Successfully","success"),t.next=35;break;case 22:return h={},p=this.contact,f=p.img_cover,_=p.img_facebook,v=p.img_twitter,k=p.img_twitch,w=p.img_instagram,y=p.img_youtube,""!==f&&(h=b(b({},h),{},{img_cover:f})),""!==_&&(h=b(b({},h),{},{img_facebook:_})),""!==v&&(h=b(b({},h),{},{img_twitter:v})),""!==k&&(h=b(b({},h),{},{img_twitch:k})),""!==w&&(h=b(b({},h),{},{img_instagram:w})),""!==y&&(h=b(b({},h),{},{img_youtube:y})),Object.keys(h).length>0&&(a=b(b({},a),{},{imagesData:h})),t.next=33,this.createContact(a);case 33:e=t.sent,this.notifyVue("Contact Created Successfully","success");case 35:this.editMode=!1,this.errors={},C=e,C.id,D=C.information,L=C.map,O=Object(c["a"])(C,["id","information","map"]),this.$refs.img_cover.value=null,this.$refs.img_facebook.value=null,this.$refs.img_twitter.value=null,this.$refs.img_twitch.value=null,this.$refs.img_instagram.value=null,this.$refs.img_youtube.value=null,F=D.address,E=D.email,M=D.phone,j=D.facebook_link,x=D.instagram_link,I=D.twitter_link,$=D.twitch_link,P=D.youtube_link,this.contact=b({address:F,email:E,phone:M,facebookLink:j,instagramLink:x,twitterLink:I,twitchLink:$,youtubeLink:P,googleMapsLink:L},O),t.next=51;break;case 48:t.prev=48,t.t0=t["catch"](4),JSON.parse(t.t0).forEach((function(t){S.notifyVue(t.message,"danger")}));case 51:case"end":return t.stop()}}),t,this,[[4,48]])})));function e(){return t.apply(this,arguments)}return e}(),removeImage:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.deleteImage(this.imageId);case 2:t.t0=this.openedFor,t.next="img_cover"===t.t0?5:"img_facebook"===t.t0?9:"img_twitter"===t.t0?13:"img_twitch"===t.t0?17:"img_instagram"===t.t0?21:"img_youtube"===t.t0?25:29;break;case 5:return this.contactData.img_cover="",this.contact.img_cover="",this.$refs.img_cover.value=null,t.abrupt("break",30);case 9:return this.contactData.img_facebook="",this.contact.img_facebook="",this.$refs.img_facebook.value=null,t.abrupt("break",30);case 13:return this.contactData.img_twitter="",this.contact.img_twitter="",this.$refs.img_twitter.value=null,t.abrupt("break",30);case 17:return this.contactData.img_twitch="",this.contact.img_twitch="",this.$refs.img_twitch.value=null,t.abrupt("break",30);case 21:return this.contactData.img_instagram="",this.contact.img_instagram="",this.$refs.img_instagram.value=null,t.abrupt("break",30);case 25:return this.contactData.img_youtube="",this.contact.img_youtube="",this.$refs.img_youtube.value=null,t.abrupt("break",30);case 29:return t.abrupt("break",30);case 30:this.notifyVue("Image Deleted Successfully","success"),this.setImageDataFlag(!1,null,"",null);case 32:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),setFile:function(t,e){var i=t.target.files;i.length&&(this.contact[e]=i[0])},isContactDataExists:function(){return 0===Object.keys(this.contactData).length},notifyVue:function(t,e){this.$notifications.notify({message:"<span>".concat(t,"</span>"),horizontalAlign:"right",verticalAlign:"top",type:e})}}),mounted:function(){var t={first:100,page:1},e={data:t,requestSource:"dashboard",showSpinner:!0};this.fetchContact(e)},updated:function(){this.isContactDataExists()&&(this.editMode=!0)},components:{ErrorMessage:l["a"],DeleteDialog:g["a"],ImagePreview:u["a"]}},_=f,v=i("2877"),k=Object(v["a"])(_,a,o,!1,null,null,null);e["default"]=k.exports},ede8:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return void 0!==t.fieldErrors?i("span",t._l(t.fieldErrors,(function(e,a){return i("p",{key:a,staticClass:"error-message"},[t._v(" "+t._s(e)+" ")])})),0):t._e()},o=[],c={props:["fieldErrors"]},n=c,s=i("2877"),r=Object(s["a"])(n,a,o,!1,null,null,null);e["a"]=r.exports},f9a7:function(t,e,i){"use strict";i("6c8e")}}]);
//# sourceMappingURL=ContactAddEdit.e9f290d9.js.map