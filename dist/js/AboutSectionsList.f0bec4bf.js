(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["AboutSectionsList"],{"0203":function(t,e,i){},1485:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"preview-image"},[t.disabled?t._e():i("div",{staticClass:"close",attrs:{role:"button"},on:{click:t.fireDeleteModal}},[t._v(" × ")]),i("img",{attrs:{src:t.image.url,alt:"preview"}})])},s=[],o={props:["image","setShowDeleteDialogFlag","openedFor","imageIndex","disabled"],methods:{fireDeleteModal:function(){this.setShowDeleteDialogFlag(!0,this.image.id,this.openedFor,this.imageIndex,"image")}}},n=o,r=(i("19cf"),i("2877")),c=Object(r["a"])(n,a,s,!1,null,"1f659b06",null);e["a"]=c.exports},"19cf":function(t,e,i){"use strict";i("0203")},"50e7":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"delete-modal",style:t.showFlag?"display:block":"display:none",on:{click:function(e){return t.setShowDeleteDialogFlag(!1)}}},[i("div",{staticClass:"delete-modal-content",on:{click:function(t){t.stopPropagation()}}},[i("div",{staticClass:"delete-modal-header"},[i("span",{staticClass:"close",on:{click:function(e){return t.setShowDeleteDialogFlag(!1)}}},[t._v("×")]),i("h2",[t._v("Delete "+t._s(t.item))])]),i("div",{staticClass:"delete-modal-body"},[i("form",[i("div",{staticClass:"form-group delete-modal-body__text"},[i("p",[t._v("Do you want to delete this "+t._s(t.item.toLowerCase())+"?")])]),i("button",{staticClass:"btn float-right",attrs:{type:"button"},on:{click:function(e){return t.setShowDeleteDialogFlag(!1)}}},[t._v(" Cancel ")]),i("button",{staticClass:"btn btn-danger float-right",attrs:{type:"button"},on:{click:t.deleteAction}},[t._v(" Delete ")])])])])])},s=[],o={props:["showFlag","setShowDeleteDialogFlag","item","deleteAction"]},n=o,r=(i("f9a7"),i("2877")),c=Object(r["a"])(n,a,s,!1,null,"d3f2235c",null);e["a"]=c.exports},"62c4":function(t,e,i){"use strict";i("8e6e"),i("cadf"),i("456d"),i("ac6a");var a=i("bd86"),s=function(t){var e=/^([a-zA-Z0-9])(([a-zA-Z0-9])*([\._\+-])*([a-zA-Z0-9]))*@(([a-zA-Z0-9\-])+(\.))+([a-zA-Z]{2,4})+$/;return e.test(t)},o=s;function n(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function r(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?n(Object(i),!0).forEach((function(e){Object(a["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var c=function(t,e,i){var a=[];return""!==t&&"-1"!==t&&0!==t.length||!e.isRequired||a.push("".concat(i," is required")),t.length<e.minLength&&a.push("".concat(i," at least ").concat(e.minLength," character")),e.isEmail&&!o(t)&&a.push("Invalid email format"),e.isFile&&""===t&&a.push("Please choose proper file"),a},l=function(t,e,i,s){var o={};return o=r(r({},o),{},Object(a["a"])({},e,c(t,s[i],i))),o},u=function(t,e,i){var a={},s=0;return Object.keys(t).forEach((function(s){a=r(r({},a),l(t[s],s,e[s],i))})),Object.keys(a).forEach((function(t){return s+=a[t].length})),{errors:a,length:s}};e["a"]=u},"6c8e":function(t,e,i){},"9a78":function(t,e,i){},a8dc:function(t,e,i){"use strict";i("9a78")},a923:function(t,e,i){"use strict";i("c5f6");var a=function(t){return document.queryCommandState(t)},s=function(t){return document.queryCommandValue(t)},o=["bold","italic","underline",{icon:'<img src="/images/increase_font.svg" />',title:"Increase Font Size",state:function(){return a("fontSize")},result:function(){return window.pell.exec("fontSize",Math.min(Number(s("FontSize"))+1,7))}},{icon:'<img src="/images/decrease_font.svg" />',title:"Decrease Font Size",state:function(){return a("fontSize")},result:function(){return window.pell.exec("fontSize",Math.max(Number(s("FontSize"))-1,1))}},{icon:'<i class="nc-icon nc-align-left-2"></i>',title:"Align Left",state:function(){return a("justifyLeft")},result:function(){return window.pell.exec("justifyLeft")}},{icon:'<i class="nc-icon nc-align-center"></i>',title:"Align Center",state:function(){return a("justifyCenter")},result:function(){return window.pell.exec("justifyCenter")}},{icon:'<i class="nc-icon nc-align-left-2" style="transform:rotateZ(180deg);margin-top:5px"></i>',title:"Align Right",state:function(){return a("justifyRight")},result:function(){return window.pell.exec("justifyRight")}},"olist","ulist",{name:"link",result:function(){var t=window.prompt("Enter the link URL");t&&window.pell.exec("createLink",t)}}];e["a"]=o},adf3:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isAboutDataFetched?i("div",[i("div",{staticClass:"row"},[t._m(0),i("div",{staticClass:"col-6"},[i("button",{staticClass:"btn btn-secondary d-block ml-auto heading-margin-title",staticStyle:{"margin-bottom":"10px !important"},attrs:{type:"button"},on:{click:t.toggleEditMode}},[t._v(" "+t._s(t.editMode?"Exit Edit Mode":"Edit About Main Data")+" ")])])]),i("div",{staticClass:"row"},[t._m(1),i("div",{staticClass:"col-12"},[t.editMode?i("vue-pell-editor",{staticClass:"about-dashboard",attrs:{actions:t.editorOptions,"style-with-css":!1,placeholder:""},model:{value:t.about.vision,callback:function(e){t.$set(t.about,"vision",e)},expression:"about.vision"}}):i("div",{staticClass:"description",domProps:{innerHTML:t._s(t.about.vision)}}),i("ErrorMessage",{attrs:{fieldErrors:t.errors.vision}})],1)]),i("div",{staticClass:"row"},[t._m(2),i("div",{staticClass:"col-12"},[t.editMode?i("vue-pell-editor",{staticClass:"about-dashboard",attrs:{actions:t.editorOptions,"style-with-css":!1,placeholder:""},model:{value:t.about.mission,callback:function(e){t.$set(t.about,"mission",e)},expression:"about.mission"}}):i("div",{staticClass:"description",domProps:{innerHTML:t._s(t.about.mission)}}),i("ErrorMessage",{attrs:{fieldErrors:t.errors.mission}})],1)]),i("div",{staticClass:"row mt-3 mb-3"},[i("div",{staticClass:"col"},[i("div",[t._m(3),i("input",{ref:"img_cover",attrs:{type:"file",id:"logo",accept:"image/png, image/jpeg",disabled:!t.editMode},on:{change:function(e){return t.setFile(e,"img_cover")}}}),i("br"),""!==t.about.img_cover&&void 0!==t.about.img_cover.url?i("ImagePreview",{attrs:{image:t.about.img_cover,setShowDeleteDialogFlag:t.setImageDataFlag,openedFor:"img_cover",disabled:!t.editMode}}):t._e(),i("ErrorMessage",{attrs:{fieldErrors:t.errors.img_cover}})],1)])]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-12",staticStyle:{height:"60px"}},[i("div",{staticClass:"text-center"},[i("button",{directives:[{name:"show",rawName:"v-show",value:t.editMode,expression:"editMode"}],staticClass:"btn btn-info btn-fill float-right mt-2",attrs:{type:"button"},on:{click:t.saveData}},[t._v(" Save ")])])])]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-6 m-auto"},[i("h2",{staticClass:"heading-margin heading-margin-sections",staticStyle:{margin:"0 !important"}},[t._v(" Sections ("+t._s(t.sectionsLength)+") ")])]),i("div",{staticClass:"col-6"},[i("router-link",{attrs:{to:"/dashboard/about/create"}},[i("button",{staticClass:"btn btn-secondary d-block ml-auto heading-margin-title",staticStyle:{"margin-bottom":"10px !important"},attrs:{type:"button",disabled:t.isAboutDataExists()}},[t._v(" Add Section ")])])],1)]),i("Table",{staticClass:"table-hover table-striped",attrs:{columns:t.table.columns,data:t.aboutSectionsData?t.aboutSectionsData.data:[],tableType:"aboutSections",setShowDeleteDialogFlag:t.setAboutSectionDataFlags}}),i("DeleteDialog",{attrs:{showFlag:t.showFlag,item:"img_cover"===t.openedFor?"Image":"About Section",deleteAction:"img_cover"===t.openedFor?t.removeImage:t.removeAboutSection,setShowDeleteDialogFlag:t.setAboutSectionDataFlags}})],1):t._e()},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col-6 m-auto"},[i("h2",{staticClass:"heading-margin heading-margin-sections",staticStyle:{margin:"0 !important"}},[t._v(" About Us ")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col-12 d-flex"},[i("h2",{staticClass:"heading-margin"},[t._v(" Our Vision"),i("span",{staticClass:"error-message"},[t._v(" *")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col-12 d-flex"},[i("h2",{staticClass:"heading-margin"},[t._v(" Our Mission & Objectives"),i("span",{staticClass:"error-message"},[t._v(" *")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{staticClass:"mr-5",attrs:{for:"logo"}},[t._v("Choose Cover Image"),i("span",{staticClass:"error-message"},[t._v(" *")])])}],o=(i("8e6e"),i("a8db")),n=(i("96cf"),i("3b8d")),r=(i("ac6a"),i("cadf"),i("456d"),i("bd86")),c=i("2f62"),l=i("ede8"),u=i("6e87"),d=i("1011"),b=i("50e7"),g=i("1485"),f=i("62c4"),h=i("a923");function m(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function v(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?m(Object(i),!0).forEach((function(e){Object(r["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var p={mission:"",vision:"",img_cover:""},_={data:function(){return{about:v({},p),showFlag:!1,openedFor:"",targetId:null,locationInDataArray:null,table:{columns:["Id","Order","Published","Actions"]},editMode:!1,errors:{},validation:{mission:{isRequired:!0},vision:{isRequired:!0},"cover image":{isRequired:!0}},aliases:{mission:"mission",vision:"vision",img_cover:"cover image"},editorOptions:h["a"]}},computed:v(v({},Object(c["d"])({aboutData:function(t){return t.about.about},aboutSectionsData:function(t){return t.about.aboutSections},isAboutDataFetched:function(t){return t.about.isAboutFetched}})),{},{sectionsLength:function(){return this.aboutSectionsData&&this.aboutSectionsData.data?this.aboutSectionsData.data.length:0}}),watch:{aboutData:function(){this.about.mission=this.aboutData.mission||"",this.about.vision=this.aboutData.vision||"",this.about.img_cover=this.aboutData.img_cover||""}},methods:v(v({},Object(c["b"])({fetchAbout:u["a"].about.actions.FETCH_ABOUT,createAbout:u["a"].about.actions.CREATE_ABOUT,updateAbout:u["a"].about.actions.UPDATE_ABOUT,deleteAboutSection:u["a"].about.actions.DELETE_ABOUT_SECTION,deleteImage:u["a"].app.actions.DELETE_IMAGE})),{},{isAboutDataExists:function(){return 0===Object.keys(this.aboutData).length},toggleEditMode:function(){this.editMode=!this.editMode},saveData:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,i,a,s,n,r,c,l=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=Object(f["a"])(this.about,this.aliases,this.validation),this.errors=v({},i.errors),0===i.length){t.next=4;break}return t.abrupt("return");case 4:if(t.prev=4,a={mission:this.about.mission,vision:this.about.vision},0===Object.keys(this.aboutData).length){t.next=17;break}return s={},n=this.about.img_cover,n.url||(s=v(v({},s),{},{img_cover:this.about.img_cover})),Object.keys(s).length>0&&(a=v(v({},a),{},{imagesData:s})),t.next=13,this.updateAbout(v(v({},a),{},{id:this.aboutData.id}));case 13:e=t.sent,this.notifyVue("About Updated Successfully","success"),t.next=22;break;case 17:return a=v(v({},a),{},{imagesData:{img_cover:this.about.img_cover}}),t.next=20,this.createAbout(a);case 20:e=t.sent,this.notifyVue("About Created Successfully","success");case 22:this.editMode=!1,this.errors={},r=e,r.id,c=Object(o["a"])(r,["id"]),this.$refs.img_cover.value=null,this.about=v(v({},this.about),c),t.next=32;break;case 29:t.prev=29,t.t0=t["catch"](4),JSON.parse(t.t0).forEach((function(t){l.notifyVue(t.message,"danger")}));case 32:case"end":return t.stop()}}),t,this,[[4,29]])})));function e(){return t.apply(this,arguments)}return e}(),removeImage:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.deleteImage(this.imageId);case 2:t.t0=this.openedFor,t.next="img_cover"===t.t0?5:9;break;case 5:return this.aboutData.img_cover="",this.about.img_cover="",this.$refs.img_cover.value=null,t.abrupt("break",10);case 9:return t.abrupt("break",10);case 10:this.notifyVue("Image Deleted Successfully","success"),this.setImageDataFlag(!1,null,"",null);case 12:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),removeAboutSection:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={sectionId:this.targetId,locationInDataArray:this.locationInDataArray},t.prev=1,t.next=4,this.deleteAboutSection(e);case 4:this.setAboutSectionDataFlags(!1,null,null),this.notifyVue("About Section Deleted Successfully","success"),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),this.notifyVue("Error Happened","danger");case 11:case"end":return t.stop()}}),t,this,[[1,8]])})));function e(){return t.apply(this,arguments)}return e}(),setAboutSectionDataFlags:function(t,e,i){this.showFlag=t,this.targetId=e,this.locationInDataArray=i,this.deletedType="section"},setImageDataFlag:function(t,e,i){this.showFlag=t,this.imageId=e,this.openedFor=i},setFile:function(t,e){var i=t.target.files;i.length&&(this.about[e]=i[0])},notifyVue:function(t,e){this.$notifications.notify({message:"<span>".concat(t,"</span>"),horizontalAlign:"right",verticalAlign:"top",type:e})}}),components:{Table:d["a"],DeleteDialog:b["a"],ErrorMessage:l["a"],ImagePreview:g["a"]},mounted:function(){var t={first:100,page:1},e={data:t,requestSource:"dashboard",showSpinner:!0};this.fetchAbout(e)},updated:function(){this.isAboutDataExists()&&(this.editMode=!0)}},y=_,D=(i("a8dc"),i("2877")),w=Object(D["a"])(y,a,s,!1,null,"7bf5d060",null);e["default"]=w.exports},ede8:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return void 0!==t.fieldErrors?i("span",t._l(t.fieldErrors,(function(e,a){return i("p",{key:a,staticClass:"error-message"},[t._v(" "+t._s(e)+" ")])})),0):t._e()},s=[],o={props:["fieldErrors"]},n=o,r=i("2877"),c=Object(r["a"])(n,a,s,!1,null,null,null);e["a"]=c.exports},f9a7:function(t,e,i){"use strict";i("6c8e")}}]);
//# sourceMappingURL=AboutSectionsList.f0bec4bf.js.map