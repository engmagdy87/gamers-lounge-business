(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Profile"],{"01bf":function(e,r,s){"use strict";s("c6bf")},"4ad9":function(e,r,s){},"4e44":function(e,r,s){"use strict";var t=function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",{staticClass:"hero-wrapper",style:{backgroundImage:"url("+e.heroImage+")"}},[e._t("hero-content")],2)},a=[],o={props:{heroImage:{type:String,default:""}}},n=o,i=(s("ad65"),s("2877")),d=Object(i["a"])(n,t,a,!1,null,"74ebac00",null);r["a"]=d.exports},"62c4":function(e,r,s){"use strict";s("8e6e"),s("cadf"),s("456d"),s("ac6a");var t=s("bd86"),a=function(e){var r=/^([a-zA-Z0-9])(([a-zA-Z0-9])*([\._\+-])*([a-zA-Z0-9]))*@(([a-zA-Z0-9\-])+(\.))+([a-zA-Z]{2,4})+$/;return r.test(e)},o=a;function n(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),s.push.apply(s,t)}return s}function i(e){for(var r=1;r<arguments.length;r++){var s=null!=arguments[r]?arguments[r]:{};r%2?n(Object(s),!0).forEach((function(r){Object(t["a"])(e,r,s[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(s,r))}))}return e}var d=function(e,r,s){var t=[];return""!==e&&"-1"!==e&&0!==e.length||!r.isRequired||t.push("".concat(s," is required")),e.length<r.minLength&&t.push("".concat(s," at least ").concat(r.minLength," character")),r.isEmail&&!o(e)&&t.push("Invalid email format"),r.isFile&&""===e&&t.push("Please choose proper file"),t},c=function(e,r,s,a){var o={};return o=i(i({},o),{},Object(t["a"])({},r,d(e,a[s],s))),o},l=function(e,r,s){var t={},a=0;return Object.keys(e).forEach((function(a){t=i(i({},t),c(e[a],a,r[a],s))})),Object.keys(t).forEach((function(e){return a+=t[e].length})),{errors:t,length:a}};r["a"]=l},"6b84":function(e,r,s){"use strict";s("70cc")},"70cc":function(e,r,s){},"9e58":function(e,r,s){"use strict";s.r(r);var t=function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",{staticClass:"profile-wrapper"},[s("div",{staticClass:"profile-wrapper__content"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 col-md-5 profile-wrapper__content__profile-details"},[s("div",[s("h4",[e._v("First Name")]),e.isEditMode?s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.profile.first_name,expression:"profile.first_name"}],class:["form-control",void 0===e.errors.first_name?"registeration-style":""],attrs:{type:"text",id:"first_name","aria-describedby":"first_nameHelp",placeholder:"Enter First Name"},domProps:{value:e.profile.first_name},on:{input:function(r){r.target.composing||e.$set(e.profile,"first_name",r.target.value)}}}),s("ErrorMessage",{attrs:{fieldErrors:e.errors.first_name}})],1):s("h4",[e._v(e._s(e.profile.first_name))])]),s("div",[s("h4",[e._v("Username")]),e.isEditMode?s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.profile.username,expression:"profile.username"}],class:["form-control",void 0===e.errors.username?"registeration-style":""],attrs:{type:"text",id:"username","aria-describedby":"username",placeholder:"Enter Username"},domProps:{value:e.profile.username},on:{input:function(r){r.target.composing||e.$set(e.profile,"username",r.target.value)}}}),s("ErrorMessage",{attrs:{fieldErrors:e.errors.username}})],1):s("h4",[e._v(e._s(e.profile.username))])]),s("div",[s("h4",[e._v("E-mail")]),e.isEditMode?s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.profile.email,expression:"profile.email"}],class:["form-control",void 0===e.errors.email?"registeration-style":""],attrs:{type:"text",id:"email","aria-describedby":"email",placeholder:"Enter Email"},domProps:{value:e.profile.email},on:{input:function(r){r.target.composing||e.$set(e.profile,"email",r.target.value)}}}),s("ErrorMessage",{attrs:{fieldErrors:e.errors.email}})],1):s("h4",[e._v(e._s(e.profile.email))])])]),s("div",{staticClass:"col-12 col-md-5 profile-wrapper__content__profile-details"},[s("div",[s("h4",[e._v("Last Name")]),e.isEditMode?s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.profile.last_name,expression:"profile.last_name"}],class:["form-control",void 0===e.errors.last_name?"registeration-style":""],attrs:{type:"text",id:"last-name","aria-describedby":"last name",placeholder:"Enter Last Name"},domProps:{value:e.profile.last_name},on:{input:function(r){r.target.composing||e.$set(e.profile,"last_name",r.target.value)}}}),s("ErrorMessage",{attrs:{fieldErrors:e.errors.last_name}})],1):s("h4",[e._v(e._s(e.profile.last_name))])]),e._m(0)])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col float-none float-md-right"},[s("div",{staticClass:"btn float-right profile-wrapper__content__custom-button-wrapper__outside",attrs:{role:"button"},on:{click:e.setAction}},[e._v(" "+e._s(e.isEditMode?"Done":"Edit")+" ")]),s("div",{staticClass:"btn float-right profile-wrapper__content__custom-button-wrapper__outside",attrs:{role:"button"},on:{click:e.changePasswordModal}},[e._v(" Change Password ")])])])]),s("ChangePassword",{attrs:{showFlag:e.showChangePasswordModal,setShowChangePasswordModal:e.setShowChangePasswordModal}}),s("RequestPassword",{attrs:{showFlag:e.showRequestPasswordModal,setShowRequestedPasswordModal:e.setShowRequestedPasswordModal}})],1)},a=[function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",[s("h4",[e._v("Password")]),s("h4",[e._v("********")])])}],o=(s("8e6e"),s("96cf"),s("3b8d")),n=(s("ac6a"),s("cadf"),s("456d"),s("bd86")),i=s("2f62"),d=s("91cd"),c=s("ede8"),l=s("6e87"),u=s("4e44"),p=function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",{staticClass:"change-password-modal",style:e.showFlag?"display:block":"display:none",on:{click:e.closeModal}},[s("div",{staticClass:"change-password-modal-content",on:{click:function(e){e.stopPropagation()}}},[s("div",{staticClass:"change-password-modal-header"},[s("span",{staticClass:"close",on:{click:e.closeModal}},[e._v("×")]),s("h2",[e._v("Change Password")])]),s("div",{staticClass:"change-password-modal-body"},[s("form",{on:{submit:function(e){e.preventDefault()}}},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"password"}},[e._v("Old Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.passwords.password,expression:"passwords.password"}],class:["form-control",void 0===e.errors.password?"registeration-style":""],attrs:{type:"password",id:"current-password",placeholder:"Enter Old Password"},domProps:{value:e.passwords.password},on:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.onEnter(r)},input:function(r){r.target.composing||e.$set(e.passwords,"password",r.target.value)}}}),s("ErrorMessage",{attrs:{fieldErrors:e.errors.password}})],1),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"password"}},[e._v("New Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.passwords.newPassword,expression:"passwords.newPassword"}],class:["form-control",void 0===e.errors.newPassword?"registeration-style":""],attrs:{type:"password",id:"new-password",placeholder:"Enter New Password"},domProps:{value:e.passwords.newPassword},on:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.onEnter(r)},input:function(r){r.target.composing||e.$set(e.passwords,"newPassword",r.target.value)}}}),s("ErrorMessage",{attrs:{fieldErrors:e.errors.newPassword}})],1),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"password"}},[e._v("New Password Confirmation")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.passwords.newPasswordConfirmation,expression:"passwords.newPasswordConfirmation"}],class:["form-control",void 0===e.errors.newPasswordConfirmation?"registeration-style":""],attrs:{type:"password",id:"new-password-again",placeholder:"Enter New Password agian"},domProps:{value:e.passwords.newPasswordConfirmation},on:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.onEnter(r)},input:function(r){r.target.composing||e.$set(e.passwords,"newPasswordConfirmation",r.target.value)}}}),s("ErrorMessage",{attrs:{fieldErrors:e.errors.newPasswordConfirmation}})],1),s("button",{staticClass:"btn btn-primary float-right",attrs:{type:"button"},on:{click:e.updatePassword}},[e._v(" Done ")])])])])])},f=[],w=s("62c4");function m(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),s.push.apply(s,t)}return s}function h(e){for(var r=1;r<arguments.length;r++){var s=null!=arguments[r]?arguments[r]:{};r%2?m(Object(s),!0).forEach((function(r){Object(n["a"])(e,r,s[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):m(Object(s)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(s,r))}))}return e}var v={password:"",newPassword:"",newPasswordConfirmation:""},g={data:function(){return{passwords:h({},v),errors:{},validation:{Password:{isRequired:!0,minLength:6},"New Password":{isRequired:!0,minLength:6},"New Password Confirmation":{isRequired:!0,minLength:6}},aliases:{password:"Password",newPassword:"New Password",newPasswordConfirmation:"New Password Confirmation"}}},props:["showFlag","setShowChangePasswordModal","setShowReloginModalModal"],methods:{onEnter:function(){this.updatePassword()},updatePassword:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=Object(w["a"])(this.passwords,this.aliases,this.validation),this.errors=h({},r.errors),0===r.length){e.next=4;break}return e.abrupt("return");case 4:if(this.passwords.newPassword===this.passwords.newPasswordConfirmation){e.next=7;break}return this.errors.newPasswordConfirmation=["New password and confirm password does not match"],e.abrupt("return");case 7:this.setShowChangePasswordModal(!1,this.passwords),this.passwords=h({},v),this.errors={};case 10:case"end":return e.stop()}}),e,this)})));function r(){return e.apply(this,arguments)}return r}(),closeModal:function(){this.setShowChangePasswordModal(!1),this.passwords=h({},v),this.errors={}}},components:{ErrorMessage:c["a"]}},b=g,P=(s("6b84"),s("2877")),y=Object(P["a"])(b,p,f,!1,null,"a08b95bc",null),_=y.exports,O=function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",{staticClass:"change-password-modal",style:e.showFlag?"display:block":"display:none",on:{click:e.closeModal}},[s("div",{staticClass:"change-password-modal-content",on:{click:function(e){e.stopPropagation()}}},[s("div",{staticClass:"change-password-modal-header"},[s("span",{staticClass:"close",on:{click:e.closeModal}},[e._v("×")]),s("h2",[e._v("Request Password")])]),s("div",{staticClass:"change-password-modal-body request-password-modal-body"},[s("form",{on:{submit:function(e){e.preventDefault()}}},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"password"}},[e._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],class:["form-control",void 0===e.errors.password?"registeration-style":""],attrs:{type:"password",id:"password",placeholder:"Enter Password",autofocus:""},domProps:{value:e.user.password},on:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.onEnter(r)},input:function(r){r.target.composing||e.$set(e.user,"password",r.target.value)}}}),s("ErrorMessage",{attrs:{fieldErrors:e.errors.password}})],1),s("button",{staticClass:"btn btn-primary float-right",attrs:{type:"button"},on:{click:function(r){return r.preventDefault(),e.updatePassword(r)}}},[e._v(" Done ")])])])])])},E=[];function j(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),s.push.apply(s,t)}return s}function C(e){for(var r=1;r<arguments.length;r++){var s=null!=arguments[r]?arguments[r]:{};r%2?j(Object(s),!0).forEach((function(r){Object(n["a"])(e,r,s[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):j(Object(s)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(s,r))}))}return e}var k={data:function(){return{user:{password:""},errors:{},validation:{Password:{isRequired:!0}},aliases:{password:"Password"}}},props:["showFlag","setShowRequestedPasswordModal"],methods:{updatePassword:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=Object(w["a"])(this.user,this.aliases,this.validation),this.errors=C({},r.errors),0===r.length){e.next=4;break}return e.abrupt("return");case 4:this.setShowRequestedPasswordModal(!1,this.user.password),this.user.password="",this.errors={};case 7:case"end":return e.stop()}}),e,this)})));function r(){return e.apply(this,arguments)}return r}(),closeModal:function(){this.setShowRequestedPasswordModal(!1),this.user.password="",this.errors={}},onEnter:function(){this.updatePassword()}},components:{ErrorMessage:c["a"]}},M=k,R=(s("ca75"),Object(P["a"])(M,O,E,!1,null,"6593265f",null)),x=R.exports;function S(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),s.push.apply(s,t)}return s}function D(e){for(var r=1;r<arguments.length;r++){var s=null!=arguments[r]?arguments[r]:{};r%2?S(Object(s),!0).forEach((function(r){Object(n["a"])(e,r,s[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):S(Object(s)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(s,r))}))}return e}var N={data:function(){return{showChangePasswordModal:!1,showRequestPasswordModal:!1,isEditMode:!1,profile:{username:"",first_name:"",last_name:"",email:"",password:"",new_password:"",new_password_confirmation:""},errors:{},validation:{Username:{isRequired:!0,minLength:4},"First Name":{isRequired:!0,minLength:4},"Last Name":{isRequired:!0,minLength:4},Email:{isRequired:!0,isEmail:!0}},aliases:{username:"Username",first_name:"First Name",last_name:"Last Name",email:"Email"}}},computed:D({},Object(i["d"])({userPersonaData:function(e){return e.user.userPersona}})),watch:{userPersonaData:function(){0===Object.keys(this.userPersonaData).length&&this.$router.push("/")}},methods:D(D(D({},Object(i["b"])({updateUserData:l["a"].user.actions.UPDATE_USER_DATA,updateUserPassword:l["a"].user.actions.UPDATE_USER_PASSWORD})),Object(i["c"])({setUserPersona:l["a"].user.mutations.SET_USER_PERSONA})),{},{changePasswordModal:function(){this.setShowChangePasswordModal(!0,{password:void 0,newPassword:void 0,newPasswordConfirmation:void 0})},setShowChangePasswordModal:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var r,s,t,a,o,n=this,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=i.length>0&&void 0!==i[0]&&i[0],s=i.length>1?i[1]:void 0,t=s.password,a=s.newPassword,o=s.newPasswordConfirmation,this.showChangePasswordModal=r,!(t&&a&&o)){e.next=16;break}return e.prev=5,e.next=8,this.updateUserPassword(D({},s));case 8:this.notifyVue("Password Changed Successfully","success"),this.notifyVue("You will be redirected to login again","warning"),setTimeout((function(){Object(d["c"])(),Object(d["d"])(),n.setUserPersona({}),window.open("/login","_self")}),3e3),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](5),JSON.parse(e.t0).forEach((function(e){n.notifyVue(e.debugMessage,"danger")}));case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));function r(){return e.apply(this,arguments)}return r}(),setShowRequestedPasswordModal:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var r,s,t,a,o,n,i,c,l,u,p=this,f=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=f.length>0&&void 0!==f[0]&&f[0],s=f.length>1?f[1]:void 0,t=Object(d["b"])(),a=t.username,o=this.profile,n=o.username,i=o.first_name,c=o.last_name,l=o.email,u={username:n,first_name:i,last_name:c,email:l},this.showRequestPasswordModal=r,!s){e.next=17;break}return e.prev=7,e.next=10,this.updateUserData(D(D({},u),{},{password:s}));case 10:this.setIsEditMode(!1),a!==n&&(this.notifyVue("You will be redirected to login again","warning"),setTimeout((function(){Object(d["c"])(),Object(d["d"])(),p.setUserPersona({}),window.open("/login","_self")}),3e3)),e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](7),JSON.parse(e.t0).forEach((function(e){p.notifyVue(e.debugMessage,"danger")}));case 17:case"end":return e.stop()}}),e,this,[[7,14]])})));function r(){return e.apply(this,arguments)}return r}(),setIsEditMode:function(e){this.isEditMode=e},setAction:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.isEditMode?this.validatePostRequest():this.setIsEditMode(!0);case 1:case"end":return e.stop()}}),e,this)})));function r(){return e.apply(this,arguments)}return r}(),validatePostRequest:function(){var e=this.profile,r=e.username,s=e.first_name,t=e.last_name,a=e.email,o=Object(d["b"])(),n=o.username,i=o.first_name,c=o.last_name,l=o.email,u={username:r,first_name:s,last_name:t,email:a},p=Object(w["a"])(u,this.aliases,this.validation);this.errors=D({},p.errors),0===p.length&&(r===n&&s===i&&t===c&&a===l?this.setIsEditMode(!1):this.setShowRequestedPasswordModal(!0))},notifyVue:function(e,r){this.$notifications.notify({message:"<span>".concat(e,"</span>"),horizontalAlign:"right",verticalAlign:"top",type:r})}}),components:{Hero:u["a"],ChangePassword:_,ErrorMessage:c["a"],RequestPassword:x},mounted:function(){var e=Object(d["b"])(),r=e.username,s=e.first_name,t=e.last_name,a=e.email;this.profile.username=r,this.profile.first_name=s,this.profile.last_name=t,this.profile.email=a}},q=N,$=(s("01bf"),Object(P["a"])(q,t,a,!1,null,"2c4dd8b4",null));r["default"]=$.exports},ad65:function(e,r,s){"use strict";s("4ad9")},c6bf:function(e,r,s){},ca75:function(e,r,s){"use strict";s("ea57")},ea57:function(e,r,s){},ede8:function(e,r,s){"use strict";var t=function(){var e=this,r=e.$createElement,s=e._self._c||r;return void 0!==e.fieldErrors?s("span",e._l(e.fieldErrors,(function(r,t){return s("p",{key:t,staticClass:"error-message"},[e._v(" "+e._s(r)+" ")])})),0):e._e()},a=[],o={props:["fieldErrors"]},n=o,i=s("2877"),d=Object(i["a"])(n,t,a,!1,null,null,null);r["a"]=d.exports}}]);
//# sourceMappingURL=Profile.5fe05dcd.js.map