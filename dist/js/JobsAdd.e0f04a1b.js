(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["JobsAdd"],{1608:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.isDepartmentsDataFetched?r("div",[r("nav",{attrs:{"aria-label":"breadcrumb"}},[r("ol",{staticClass:"breadcrumb"},[e._m(0),r("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[e._v(" "+e._s(e.operation)+" ")])])]),r("h4",{staticClass:"card-name",attrs:{slot:"header"},slot:"header"},[e._v(e._s(e.operation))]),r("form",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-12 col-md-4"},[r("base-input",{attrs:{type:"text",label:"Title",placeholder:"Enter Title",autofocus:!0,isRequired:!0},model:{value:e.job.title,callback:function(t){e.$set(e.job,"title",t)},expression:"job.title"}}),r("ErrorMessage",{attrs:{fieldErrors:e.errors.title}})],1)]),r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-6"},[r("div",{staticClass:"form-group"},[e._m(1),r("select",{directives:[{name:"model",rawName:"v-model",value:e.job.departmentId,expression:"job.departmentId"}],staticClass:"form-control",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.job,"departmentId",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"-1"}},[e._v("--Please select department")]),e._l(e.departmentsData,(function(t,s){return r("option",{key:s,domProps:{selected:t.id==e.job.departmentId,value:t.id}},[e._v(e._s(t.name))])}))],2),r("ErrorMessage",{attrs:{fieldErrors:e.errors.departmentId}})],1)]),r("div",{staticClass:"col-12 col-md-6 mt-auto mb-auto"},[r("div",{staticClass:"custom-control custom-switch"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.job.isEnabled,expression:"job.isEnabled"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"isEnabled"},domProps:{checked:Array.isArray(e.job.isEnabled)?e._i(e.job.isEnabled,null)>-1:e.job.isEnabled},on:{change:function(t){var r=e.job.isEnabled,s=t.target,i=!!s.checked;if(Array.isArray(r)){var n=null,a=e._i(r,n);s.checked?a<0&&e.$set(e.job,"isEnabled",r.concat([n])):a>-1&&e.$set(e.job,"isEnabled",r.slice(0,a).concat(r.slice(a+1)))}else e.$set(e.job,"isEnabled",i)}}}),r("label",{staticClass:"custom-control-label",attrs:{for:"isEnabled"}},[e._v("Published")])])])]),r("div",{staticClass:"row"},[r("div",{staticClass:"col"},[r("div",{staticClass:"form-group"},[e._m(2),r("vue-pell-editor",{attrs:{actions:e.editorOptions,"style-with-css":!1,placeholder:""},model:{value:e.job.description,callback:function(t){e.$set(e.job,"description",t)},expression:"job.description"}}),r("ErrorMessage",{attrs:{fieldErrors:e.errors.description}})],1)])]),r("div",{staticClass:"row"},[r("div",{staticClass:"col"},[r("div",{staticClass:"form-group"},[e._m(3),r("vue-pell-editor",{attrs:{actions:e.editorOptions,"style-with-css":!1,placeholder:""},model:{value:e.job.requirements,callback:function(t){e.$set(e.job,"requirements",t)},expression:"job.requirements"}}),r("ErrorMessage",{attrs:{fieldErrors:e.errors.requirements}})],1)])]),r("div",{staticClass:"text-center"},[r("button",{staticClass:"btn btn-info btn-fill float-right",attrs:{type:"button"},on:{click:e.saveData}},[e._v(" Save ")])]),r("div",{staticClass:"clearfix"})])]):e._e()},i=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("li",{staticClass:"breadcrumb-item"},[r("a",{attrs:{href:"/dashboard/jobs"}},[e._v("Jobs")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("label",{attrs:{for:"region"}},[e._v("Department"),r("span",{staticClass:"error-message"},[e._v(" *")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("label",[e._v("Description"),r("span",{staticClass:"error-message"},[e._v(" *")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("label",[e._v("Requirements"),r("span",{staticClass:"error-message"},[e._v(" *")])])}],n=(r("8e6e"),r("cadf"),r("456d"),r("ac6a"),r("96cf"),r("3b8d")),a=r("bd86"),o=r("2f62"),c=r("ede8"),l=r("6e87"),u=r("62c4"),d=r("a923");function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){Object(a["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f={title:"",description:"",requirements:"",departmentId:"-1",isEnabled:!1},m={data:function(){return{editData:this.$router.history.current.params.data,operation:this.$route.name,job:b({},f),errors:{},validation:{title:{isRequired:!0},description:{isRequired:!0},requirements:{isRequired:!0},departmentId:{isRequired:!0},published:{isRequired:!1}},aliases:{title:"title",description:"description",requirements:"requirements",departmentId:"departmentId",isEnabled:"published"},editorOptions:d["a"]}},computed:b({},Object(o["d"])({departmentsData:function(e){return e.departments.departments},isDepartmentsDataFetched:function(e){return e.departments.isDepartmentsDataFetched}})),methods:b(b({},Object(o["b"])({createJob:l["a"].jobs.actions.CREATE_JOB,updateJob:l["a"].jobs.actions.UPDATE_JOB,fetchDepartments:l["a"].departments.actions.FETCH_DEPARTMENTS})),{},{saveData:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=Object(u["a"])(this.job,this.aliases,this.validation),this.errors=b({},t.errors),0===t.length){e.next=4;break}return e.abrupt("return");case 4:if(e.prev=4,r={title:this.job.title,description:this.job.description,requirements:this.job.requirements,departmentId:this.job.departmentId,isEnabled:this.job.isEnabled},"Edit Job"!==this.operation){e.next=12;break}return e.next=9,this.updateJob(b(b({},r),{},{jobId:this.editData.id}));case 9:this.notifyVue("Job Updated Successfully","success"),e.next=15;break;case 12:return e.next=14,this.createJob(r);case 14:this.notifyVue("Job Created Successfully","success");case 15:this.job=b({},f),this.$router.push("/dashboard/jobs"),e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](4),JSON.parse(e.t0).forEach((function(e){s.notifyVue(e.message,"danger")}));case 22:case"end":return e.stop()}}),e,this,[[4,19]])})));function t(){return e.apply(this,arguments)}return t}(),notifyVue:function(e,t){this.$notifications.notify({message:"<span>".concat(e,"</span>"),horizontalAlign:"right",verticalAlign:"top",type:t})}}),beforeMount:function(){this.$router.history.current.params.data||"Edit Job"!==this.$route.name||this.$router.push({path:"/dashboard/jobs"})},mounted:function(){this.fetchDepartments(),"Edit Job"===this.$route.name&&(this.job.title=this.editData.title,this.job.description=this.editData.description,this.job.requirements=this.editData.requirements,this.job.departmentId=this.editData.department.id,this.job.isEnabled=this.editData.is_enabled)},components:{ErrorMessage:c["a"]}},h=m,v=r("2877"),j=Object(v["a"])(h,s,i,!1,null,null,null);t["default"]=j.exports},"62c4":function(e,t,r){"use strict";r("8e6e"),r("cadf"),r("456d"),r("ac6a");var s=r("bd86"),i=function(e){var t=/^([a-zA-Z0-9])(([a-zA-Z0-9])*([\._\+-])*([a-zA-Z0-9]))*@(([a-zA-Z0-9\-])+(\.))+([a-zA-Z]{2,4})+$/;return t.test(e)},n=i;function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c=function(e,t,r){var s=[];return""!==e&&"-1"!==e&&0!==e.length||!t.isRequired||s.push("".concat(r," is required")),e.length<t.minLength&&s.push("".concat(r," at least ").concat(t.minLength," character")),t.isEmail&&!n(e)&&s.push("Invalid email format"),t.isFile&&""===e&&s.push("Please choose proper file"),s},l=function(e,t,r,i){var n={};return n=o(o({},n),{},Object(s["a"])({},t,c(e,i[r],r))),n},u=function(e,t,r){var s={},i=0;return Object.keys(e).forEach((function(i){s=o(o({},s),l(e[i],i,t[i],r))})),Object.keys(s).forEach((function(e){return i+=s[e].length})),{errors:s,length:i}};t["a"]=u},a923:function(e,t,r){"use strict";r("c5f6");var s=function(e){return document.queryCommandState(e)},i=function(e){return document.queryCommandValue(e)},n=["bold","italic","underline",{icon:'<img src="/images/increase_font.svg" />',title:"Increase Font Size",state:function(){return s("fontSize")},result:function(){return window.pell.exec("fontSize",Math.min(Number(i("FontSize"))+1,7))}},{icon:'<img src="/images/decrease_font.svg" />',title:"Decrease Font Size",state:function(){return s("fontSize")},result:function(){return window.pell.exec("fontSize",Math.max(Number(i("FontSize"))-1,1))}},{icon:'<i class="nc-icon nc-align-left-2"></i>',title:"Align Left",state:function(){return s("justifyLeft")},result:function(){return window.pell.exec("justifyLeft")}},{icon:'<i class="nc-icon nc-align-center"></i>',title:"Align Center",state:function(){return s("justifyCenter")},result:function(){return window.pell.exec("justifyCenter")}},{icon:'<i class="nc-icon nc-align-left-2" style="transform:rotateZ(180deg);margin-top:5px"></i>',title:"Align Right",state:function(){return s("justifyRight")},result:function(){return window.pell.exec("justifyRight")}},"olist","ulist",{name:"link",result:function(){var e=window.prompt("Enter the link URL");e&&window.pell.exec("createLink",e)}}];t["a"]=n},ede8:function(e,t,r){"use strict";var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return void 0!==e.fieldErrors?r("span",e._l(e.fieldErrors,(function(t,s){return r("p",{key:s,staticClass:"error-message"},[e._v(" "+e._s(t)+" ")])})),0):e._e()},i=[],n={props:["fieldErrors"]},a=n,o=r("2877"),c=Object(o["a"])(a,s,i,!1,null,null,null);t["a"]=c.exports}}]);
//# sourceMappingURL=JobsAdd.e0f04a1b.js.map