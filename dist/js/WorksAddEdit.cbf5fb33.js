(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["WorksAddEdit"],{"02f4":function(e,t,i){var r=i("4588"),a=i("be13");e.exports=function(e){return function(t,i){var s,n,o=String(a(t)),c=r(i),l=o.length;return c<0||c>=l?e?"":void 0:(s=o.charCodeAt(c),s<55296||s>56319||c+1===l||(n=o.charCodeAt(c+1))<56320||n>57343?e?o.charAt(c):s:e?o.slice(c,c+2):n-56320+(s-55296<<10)+65536)}}},"0390":function(e,t,i){"use strict";var r=i("02f4")(!0);e.exports=function(e,t,i){return t+(i?r(e,t).length:1)}},1485:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"preview-image"},[e.disabled?e._e():i("div",{staticClass:"close",attrs:{role:"button"},on:{click:e.fireDeleteModal}},[e._v("\n    ×\n  ")]),i("img",{attrs:{src:e.image.url,alt:"preview"}})])},a=[],s={props:["image","setShowDeleteDialogFlag","openedFor","imageIndex","disabled"],methods:{fireDeleteModal:function(){this.setShowDeleteDialogFlag(!0,this.image.id,this.openedFor,this.imageIndex,"image")}}},n=s,o=(i("19cf"),i("2877")),c=Object(o["a"])(n,r,a,!1,null,"1f659b06",null);t["a"]=c.exports},"19cf":function(e,t,i){"use strict";var r=i("df73"),a=i.n(r);a.a},"1f8d":function(e,t,i){},"214f":function(e,t,i){"use strict";i("b0c5");var r=i("2aba"),a=i("32e9"),s=i("79e5"),n=i("be13"),o=i("2b4c"),c=i("520a"),l=o("species"),d=!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),u=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var i="ab".split(e);return 2===i.length&&"a"===i[0]&&"b"===i[1]}();e.exports=function(e,t,i){var f=o(e),m=!s((function(){var t={};return t[f]=function(){return 7},7!=""[e](t)})),g=m?!s((function(){var t=!1,i=/a/;return i.exec=function(){return t=!0,null},"split"===e&&(i.constructor={},i.constructor[l]=function(){return i}),i[f](""),!t})):void 0;if(!m||!g||"replace"===e&&!d||"split"===e&&!u){var p=/./[f],h=i(n,f,""[e],(function(e,t,i,r,a){return t.exec===c?m&&!a?{done:!0,value:p.call(t,i,r)}:{done:!0,value:e.call(i,t,r)}:{done:!1}})),v=h[0],_=h[1];r(String.prototype,e,v),a(RegExp.prototype,f,2==t?function(e,t){return _.call(e,this,t)}:function(e){return _.call(e,this)})}}},"28a5":function(e,t,i){"use strict";var r=i("aae3"),a=i("cb7c"),s=i("ebd6"),n=i("0390"),o=i("9def"),c=i("5f1b"),l=i("520a"),d=i("79e5"),u=Math.min,f=[].push,m="split",g="length",p="lastIndex",h=4294967295,v=!d((function(){RegExp(h,"y")}));i("214f")("split",2,(function(e,t,i,d){var _;return _="c"=="abbc"[m](/(b)*/)[1]||4!="test"[m](/(?:)/,-1)[g]||2!="ab"[m](/(?:ab)*/)[g]||4!="."[m](/(.?)(.?)/)[g]||"."[m](/()()/)[g]>1||""[m](/.?/)[g]?function(e,t){var a=String(this);if(void 0===e&&0===t)return[];if(!r(e))return i.call(a,e,t);var s,n,o,c=[],d=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),u=0,m=void 0===t?h:t>>>0,v=new RegExp(e.source,d+"g");while(s=l.call(v,a)){if(n=v[p],n>u&&(c.push(a.slice(u,s.index)),s[g]>1&&s.index<a[g]&&f.apply(c,s.slice(1)),o=s[0][g],u=n,c[g]>=m))break;v[p]===s.index&&v[p]++}return u===a[g]?!o&&v.test("")||c.push(""):c.push(a.slice(u)),c[g]>m?c.slice(0,m):c}:"0"[m](void 0,0)[g]?function(e,t){return void 0===e&&0===t?[]:i.call(this,e,t)}:i,[function(i,r){var a=e(this),s=void 0==i?void 0:i[t];return void 0!==s?s.call(i,a,r):_.call(String(a),i,r)},function(e,t){var r=d(_,e,this,t,_!==i);if(r.done)return r.value;var l=a(e),f=String(this),m=s(l,RegExp),g=l.unicode,p=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(v?"y":"g"),b=new m(v?l:"^(?:"+l.source+")",p),w=void 0===t?h:t>>>0;if(0===w)return[];if(0===f.length)return null===c(b,f)?[f]:[];var k=0,y=0,x=[];while(y<f.length){b.lastIndex=v?y:0;var C,D=c(b,v?f:f.slice(y));if(null===D||(C=u(o(b.lastIndex+(v?0:y)),f.length))===k)y=n(f,y,g);else{if(x.push(f.slice(k,y)),x.length===w)return x;for(var E=1;E<=D.length-1;E++)if(x.push(D[E]),x.length===w)return x;y=k=C}}return x.push(f.slice(k)),x}]}))},"50e7":function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"delete-modal",style:e.showFlag?"display:block":"display:none",on:{click:function(t){return e.setShowDeleteDialogFlag(!1)}}},[i("div",{staticClass:"delete-modal-content",on:{click:function(e){e.stopPropagation()}}},[i("div",{staticClass:"delete-modal-header"},[i("span",{staticClass:"close",on:{click:function(t){return e.setShowDeleteDialogFlag(!1)}}},[e._v("×")]),i("h2",[e._v("Delete "+e._s(e.item))])]),i("div",{staticClass:"delete-modal-body"},[i("form",[i("div",{staticClass:"form-group delete-modal-body__text"},[i("p",[e._v("Do you want to delete this "+e._s(e.item.toLowerCase())+"?")])]),i("button",{staticClass:"btn float-right",attrs:{type:"button"},on:{click:function(t){return e.setShowDeleteDialogFlag(!1)}}},[e._v("\n          Cancel\n        ")]),i("button",{staticClass:"btn btn-danger float-right",attrs:{type:"button"},on:{click:e.deleteAction}},[e._v("\n          Delete\n        ")])])])])])},a=[],s={props:["showFlag","setShowDeleteDialogFlag","item","deleteAction"]},n=s,o=(i("f9a7"),i("2877")),c=Object(o["a"])(n,r,a,!1,null,"d3f2235c",null);t["a"]=c.exports},"520a":function(e,t,i){"use strict";var r=i("0bfb"),a=RegExp.prototype.exec,s=String.prototype.replace,n=a,o="lastIndex",c=function(){var e=/a/,t=/b*/g;return a.call(e,"a"),a.call(t,"a"),0!==e[o]||0!==t[o]}(),l=void 0!==/()??/.exec("")[1],d=c||l;d&&(n=function(e){var t,i,n,d,u=this;return l&&(i=new RegExp("^"+u.source+"$(?!\\s)",r.call(u))),c&&(t=u[o]),n=a.call(u,e),c&&n&&(u[o]=u.global?n.index+n[0].length:t),l&&n&&n.length>1&&s.call(n[0],i,(function(){for(d=1;d<arguments.length-2;d++)void 0===arguments[d]&&(n[d]=void 0)})),n}),e.exports=n},"5f1b":function(e,t,i){"use strict";var r=i("23c6"),a=RegExp.prototype.exec;e.exports=function(e,t){var i=e.exec;if("function"===typeof i){var s=i.call(e,t);if("object"!==typeof s)throw new TypeError("RegExp exec method returned something other than an Object or null");return s}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return a.call(e,t)}},"62c4":function(e,t,i){"use strict";i("8e6e"),i("cadf"),i("456d"),i("ac6a");var r=i("bd86"),a=function(e){var t=/^([a-zA-Z0-9])(([a-zA-Z0-9])*([\._\+-])*([a-zA-Z0-9]))*@(([a-zA-Z0-9\-])+(\.))+([a-zA-Z]{2,4})+$/;return t.test(e)},s=a;function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach((function(t){Object(r["a"])(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var c=function(e,t,i){var r=[];return""!==e&&"-1"!==e&&0!==e.length||!t.isRequired||r.push("".concat(i," is required")),e.length<t.minLength&&r.push("".concat(i," at least ").concat(t.minLength," character")),t.isEmail&&!s(e)&&r.push("Invalid email format"),t.isFile&&""===e&&r.push("Please choose proper file"),r},l=function(e,t,i,a){var s={};return s=o(o({},s),{},Object(r["a"])({},t,c(e,a[i],i))),s},d=function(e,t,i){var r={},a=0;return Object.keys(e).forEach((function(a){r=o(o({},r),l(e[a],a,t[a],i))})),Object.keys(r).forEach((function(e){return a+=r[e].length})),{errors:r,length:a}};t["a"]=d},"76a0":function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("nav",{attrs:{"aria-label":"breadcrumb"}},[i("ol",{staticClass:"breadcrumb"},[e._m(0),i("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[e._v("\n        "+e._s(e.operation)+"\n      ")])])]),i("h4",{staticClass:"card-name",attrs:{slot:"header"},slot:"header"},[e._v(e._s(e.operation))]),i("form",[i("div",{staticClass:"row"},[i("div",{staticClass:"col-12 col-md-6"},[i("base-input",{attrs:{type:"text",label:"Title",placeholder:"Enter Title",autofocus:!0,isRequired:!0},model:{value:e.work.title,callback:function(t){e.$set(e.work,"title",t)},expression:"work.title"}}),i("ErrorMessage",{attrs:{fieldErrors:e.errors.title}})],1),i("div",{staticClass:"col-12 col-md-2"},[i("base-input",{attrs:{type:"number",label:"Order",placeholder:"Enter Order",isRequired:!0},model:{value:e.work.order,callback:function(t){e.$set(e.work,"order",t)},expression:"work.order"}}),i("ErrorMessage",{attrs:{fieldErrors:e.errors.order}})],1),i("div",{staticClass:"col-12 col-md-1 mt-auto mb-auto"},[i("div",{staticClass:"custom-control custom-switch"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.work.is_featured,expression:"work.is_featured"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"is_featured"},domProps:{checked:Array.isArray(e.work.is_featured)?e._i(e.work.is_featured,null)>-1:e.work.is_featured},on:{change:[function(t){var i=e.work.is_featured,r=t.target,a=!!r.checked;if(Array.isArray(i)){var s=null,n=e._i(i,s);r.checked?n<0&&e.$set(e.work,"is_featured",i.concat([s])):n>-1&&e.$set(e.work,"is_featured",i.slice(0,n).concat(i.slice(n+1)))}else e.$set(e.work,"is_featured",a)},e.setIsSliderImageRequired]}}),i("label",{staticClass:"custom-control-label",attrs:{for:"is_featured"}},[e._v("Featured")])])]),i("div",{staticClass:"col-12 col-md-1 mt-auto mb-auto"},[i("div",{staticClass:"custom-control custom-switch"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.work.is_enabled,expression:"work.is_enabled"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"is_enabled"},domProps:{checked:Array.isArray(e.work.is_enabled)?e._i(e.work.is_enabled,null)>-1:e.work.is_enabled},on:{change:function(t){var i=e.work.is_enabled,r=t.target,a=!!r.checked;if(Array.isArray(i)){var s=null,n=e._i(i,s);r.checked?n<0&&e.$set(e.work,"is_enabled",i.concat([s])):n>-1&&e.$set(e.work,"is_enabled",i.slice(0,n).concat(i.slice(n+1)))}else e.$set(e.work,"is_enabled",a)}}}),i("label",{staticClass:"custom-control-label",attrs:{for:"is_enabled"}},[e._v("Published")])])]),i("div",{staticClass:"col-12 col-md-1 mt-auto mb-auto"},[i("div",{staticClass:"custom-control custom-switch"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.work.is_admin_mode_enabled,expression:"work.is_admin_mode_enabled"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"is_admin_mode_enabled"},domProps:{checked:Array.isArray(e.work.is_admin_mode_enabled)?e._i(e.work.is_admin_mode_enabled,null)>-1:e.work.is_admin_mode_enabled},on:{change:function(t){var i=e.work.is_admin_mode_enabled,r=t.target,a=!!r.checked;if(Array.isArray(i)){var s=null,n=e._i(i,s);r.checked?n<0&&e.$set(e.work,"is_admin_mode_enabled",i.concat([s])):n>-1&&e.$set(e.work,"is_admin_mode_enabled",i.slice(0,n).concat(i.slice(n+1)))}else e.$set(e.work,"is_admin_mode_enabled",a)}}}),i("label",{staticClass:"custom-control-label",attrs:{for:"is_admin_mode_enabled"}},[e._v("Admin")])])])]),i("div",{staticClass:"row"},[i("div",{staticClass:"col"},[i("div",{staticClass:"form-group"},[i("label",[e._v("Short Description")]),i("vue-pell-editor",{attrs:{actions:e.editorOptions,"style-with-css":!1,placeholder:""},model:{value:e.work.short_description,callback:function(t){e.$set(e.work,"short_description",t)},expression:"work.short_description"}}),i("ErrorMessage",{attrs:{fieldErrors:e.errors.short_description}})],1)])]),i("div",{staticClass:"row"},[i("div",{staticClass:"col"},[i("div",{staticClass:"form-group"},[e._m(1),i("vue-pell-editor",{attrs:{actions:e.editorOptions,"style-with-css":!1,placeholder:""},model:{value:e.work.description,callback:function(t){e.$set(e.work,"description",t)},expression:"work.description"}}),i("ErrorMessage",{attrs:{fieldErrors:e.errors.description}})],1)])]),i("div",{staticClass:"row"},[i("div",{staticClass:"col"},[i("div",{staticClass:"form-group"},[i("label",[e._v("Statistics")]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-10"},e._l(e.work.statistics,(function(t,r){return i("StatisticsInput",{key:t.id,attrs:{item:t,itemLocation:r},on:{updateStatistics:function(t){return e.updateStatistics(t)},removeStatistics:function(t){return e.removeStatistics(t)}}})})),1),i("div",{staticClass:"col-2"},[i("button",{staticClass:"btn btn-info btn-fill float-right",attrs:{type:"button"},on:{click:e.addNewStatistic}},[e._v("\n                Add\n              ")])])]),i("ErrorMessage",{attrs:{fieldErrors:e.errors.statistics}})],1)])]),i("div",{staticClass:"row mt-3 mb-3"},[i("div",{staticClass:"col"},[i("div",[e._m(2),i("input",{ref:"img_card",attrs:{type:"file",id:"img_card",accept:"image/png, image/jpeg"},on:{change:function(t){return e.setFile(t,"img_card")}}}),i("br"),void 0!==e.editData&&"Edit Work"===e.operation&&""!==e.editData.img_card?i("ImagePreview",{attrs:{image:e.editData.img_card,setShowDeleteDialogFlag:e.setImageDataFlag,openedFor:"img_card"}}):e._e(),i("ErrorMessage",{attrs:{fieldErrors:e.errors.img_card}})],1)])]),i("div",{staticClass:"row mt-3 mb-3"},[i("div",{staticClass:"col"},[i("div",[e._m(3),i("input",{ref:"img_cover",attrs:{type:"file",id:"logo",accept:"image/png, image/jpeg"},on:{change:function(t){return e.setFile(t,"img_cover")}}}),i("br"),void 0!==e.editData&&"Edit Work"===e.operation&&""!==e.editData.img_cover?i("ImagePreview",{attrs:{image:e.editData.img_cover,setShowDeleteDialogFlag:e.setImageDataFlag,openedFor:"img_cover"}}):e._e(),i("ErrorMessage",{attrs:{fieldErrors:e.errors.img_cover}})],1)])]),i("div",{staticClass:"row mt-3 mb-3"},[i("div",{staticClass:"col"},[i("div",[i("label",{staticClass:"mr-5",attrs:{for:"logo"}},[e._v("Choose Slider Image"),e.work.is_featured?i("span",{staticClass:"error-message"},[e._v("\n              *")]):e._e()]),i("input",{ref:"img_slider",attrs:{type:"file",id:"logo",accept:"image/png, image/jpeg"},on:{change:function(t){return e.setFile(t,"img_slider")}}}),i("br"),void 0!==e.editData&&"Edit Work"===e.operation&&""!==e.editData.img_slider&&null!==e.editData.img_slider?i("ImagePreview",{attrs:{image:e.editData.img_slider,setShowDeleteDialogFlag:e.setImageDataFlag,openedFor:"img_slider"}}):e._e(),e.work.is_featured?i("ErrorMessage",{attrs:{fieldErrors:e.errors.img_slider}}):e._e()],1)])]),i("div",{staticClass:"text-center"},[i("button",{staticClass:"btn btn-info btn-fill float-right",attrs:{type:"button"},on:{click:e.saveData}},[e._v("\n        Save\n      ")])]),i("div",{staticClass:"clearfix"}),i("DeleteDialog",{attrs:{showFlag:e.showFlag,setShowDeleteDialogFlag:e.setImageDataFlag,item:"Image",deleteAction:e.removeImage}})],1)])},a=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("li",{staticClass:"breadcrumb-item"},[i("a",{attrs:{href:"/dashboard/works"}},[e._v("Works")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",[e._v("Description"),i("span",{staticClass:"error-message"},[e._v(" *")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"mr-5",attrs:{for:"img_card"}},[e._v("Choose Card Image"),i("span",{staticClass:"error-message"},[e._v(" *")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"mr-5",attrs:{for:"logo"}},[e._v("Choose Cover Image"),i("span",{staticClass:"error-message"},[e._v(" *")])])}],s=(i("8e6e"),i("ac6a"),i("cadf"),i("456d"),i("96cf"),i("3b8d")),n=i("bd86"),o=i("2f62"),c=i("ede8"),l=i("6e87"),d=i("62c4"),u=i("a923"),f=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"row"},[i("div",{staticClass:"col-5"},[i("base-input",{attrs:{type:"text",placeholder:"Enter Statistic Name",autofocus:!0,isRequired:!0},on:{keyup:e.updateStatistics},model:{value:e.keyName,callback:function(t){e.keyName=t},expression:"keyName"}})],1),i("div",{staticClass:"col-5"},[i("base-input",{attrs:{type:"number",placeholder:"Enter Statistic Value",min:"0",isRequired:!0},on:{keyup:e.updateStatistics},model:{value:e.keyValue,callback:function(t){e.keyValue=t},expression:"keyValue"}})],1),i("div",{staticClass:"col-2"},[i("img",{staticStyle:{cursor:"pointer"},attrs:{src:"/images/delete.svg",alt:"delete"},on:{click:e.removeStatistics}})])])},m=[],g={props:["itemLocation","item"],data:function(){return{keyName:this.item.key,keyValue:this.item.value}},methods:{updateStatistics:function(){var e={name:this.keyName,value:this.keyValue,itemLocation:this.itemLocation};this.$emit("updateStatistics",e)},removeStatistics:function(){this.$emit("removeStatistics",this.itemLocation)}}},p=g,h=i("2877"),v=Object(h["a"])(p,f,m,!1,null,null,null),_=v.exports,b=i("1485"),w=i("50e7"),k=i("bcb6");function y(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function x(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?y(Object(i),!0).forEach((function(t){Object(n["a"])(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):y(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var C={title:"",order:1,short_description:"",description:"",is_featured:!1,is_enabled:!1,is_admin_mode_enabled:!1,img_card:"",img_cover:"",img_slider:""},D={data:function(){return{editData:this.$router.history.current.params.data,operation:this.$route.name,work:x(x({},C),{},{statistics:[]}),openedFor:"",imageIndex:null,showFlag:!1,imageId:null,errors:{},validation:{title:{isRequired:!0},order:{isRequired:!0},"short description":{isRequired:!1},is_featured:{isRequired:!1},is_enabled:{isRequired:!1},is_admin_mode_enabled:{isRequired:!1},description:{isRequired:!0},statistics:{isRequired:!1},"card image":{isRequired:!0},"cover image":{isRequired:!0},"slider image":{isRequired:!1}},aliases:{title:"title",order:"order",short_description:"short description",is_featured:"is_featured",is_enabled:"is_enabled",is_admin_mode_enabled:"is_admin_mode_enabled",description:"description",statistics:"statistics",img_card:"card image",img_cover:"cover image",img_slider:"slider image"},editorOptions:u["a"]}},methods:x(x({},Object(o["b"])({createWork:l["a"].works.actions.CREATE_WORK,updateWork:l["a"].works.actions.UPDATE_WORK,deleteImage:l["a"].app.actions.DELETE_IMAGE})),{},{setImageDataFlag:function(e,t,i,r){this.showFlag=e,this.imageId=t,this.openedFor=i,this.imageIndex=r},setFile:function(e,t){var i=e.target.files;i.length&&(this.work[t]=i[0])},saveData:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,i,r,a,s,n,o,c=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=Object(d["a"])(this.work,this.aliases,this.validation),this.errors=x({},t.errors),0===t.length){e.next=4;break}return e.abrupt("return");case 4:if(e.prev=4,i={title:this.work.title,order:this.work.order,isFeatured:this.work.is_featured,isEnabled:this.work.is_enabled,is_admin_mode_enabled:this.work.is_admin_mode_enabled,shortDescription:Object(k["c"])(this.work.short_description),description:Object(k["c"])(this.work.description),statistics:Object(k["c"])(JSON.stringify(this.work.statistics))},"Edit Work"!==this.operation){e.next=18;break}return r={},a=this.work,s=a.img_card,n=a.img_cover,o=a.img_slider,s.url||(r=x(x({},r),{},{img_card:this.work.img_card})),n.url||(r=x(x({},r),{},{img_cover:this.work.img_cover})),!o.url&&this.work.is_featured&&(r=x(x({},r),{},{img_slider:this.work.img_slider})),Object.keys(r).length>0&&(i=x(x({},i),{},{imagesData:r})),e.next=15,this.updateWork(x(x({},i),{},{id:this.editData.id}));case 15:this.notifyVue("Work Updated Successfully","success"),e.next=22;break;case 18:return i=x(x({},i),{},{imagesData:{img_card:this.work.img_card,img_cover:this.work.img_cover,img_slider:this.work.img_slider}}),e.next=21,this.createWork(i);case 21:this.notifyVue("Work Created Successfully","success");case 22:this.work=x(x({},C),{},{statistics:[]}),this.$router.push("/dashboard/works"),e.next=29;break;case 26:e.prev=26,e.t0=e["catch"](4),JSON.parse(e.t0).forEach((function(e){c.notifyVue(e.message,"danger")}));case 29:case"end":return e.stop()}}),e,this,[[4,26]])})));function t(){return e.apply(this,arguments)}return t}(),removeImage:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.deleteImage(this.imageId);case 2:e.t0=this.openedFor,e.next="img_card"===e.t0?5:"img_cover"===e.t0?8:"img_slider"===e.t0?11:14;break;case 5:return this.editData.img_card="",this.work.img_card="",e.abrupt("break",15);case 8:return this.editData.img_cover="",this.work.img_cover="",e.abrupt("break",15);case 11:return this.editData.img_slider="",this.work.img_slider="",e.abrupt("break",15);case 14:return e.abrupt("break",15);case 15:this.notifyVue("Image Deleted Successfully","success"),this.setImageDataFlag(!1,null,"",null);case 17:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),updateStatistics:function(e){this.work.statistics[e.itemLocation]=x(x({},this.work.statistics[e.itemLocation]),{},{key:e.name,value:e.value})},removeStatistics:function(e){this.work.statistics.splice(e,1)},addNewStatistic:function(){var e=this.work.statistics.length,t=0===e?1:this.work.statistics[e-1].id+1;this.work.statistics.push({id:t,key:"",value:null})},setIsSliderImageRequired:function(e){this.validation["slider image"].isRequired=e.target.checked},notifyVue:function(e,t){this.$notifications.notify({message:"<span>".concat(e,"</span>"),horizontalAlign:"right",verticalAlign:"top",type:t})}}),beforeMount:function(){this.$router.history.current.params.data||"Edit Work"!==this.$route.name||this.$router.push({path:"/dashboard/works"})},mounted:function(){"Edit Work"===this.$route.name&&(this.work.title=this.editData.title,this.work.order=this.editData.order,this.work.is_featured=this.editData.is_featured,this.work.is_enabled=this.editData.is_enabled,this.work.is_admin_mode_enabled=this.editData.is_admin_mode_enabled,this.work.short_description=this.editData.short_description||"",this.work.description=this.editData.description||"",this.work.statistics=JSON.parse(Object(k["e"])(this.editData.statistics)),this.work.img_card=this.editData.img_card||"",this.work.img_cover=this.editData.img_cover||"",this.work.img_slider=this.editData.img_slider||"",this.validation["slider image"].isRequired=this.editData.is_featured)},components:{ErrorMessage:c["a"],ImagePreview:b["a"],DeleteDialog:w["a"],StatisticsInput:_}},E=D,S=Object(h["a"])(E,r,a,!1,null,null,null);t["default"]=S.exports},a481:function(e,t,i){"use strict";var r=i("cb7c"),a=i("4bf8"),s=i("9def"),n=i("4588"),o=i("0390"),c=i("5f1b"),l=Math.max,d=Math.min,u=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,m=/\$([$&`']|\d\d?)/g,g=function(e){return void 0===e?e:String(e)};i("214f")("replace",2,(function(e,t,i,p){return[function(r,a){var s=e(this),n=void 0==r?void 0:r[t];return void 0!==n?n.call(r,s,a):i.call(String(s),r,a)},function(e,t){var a=p(i,e,this,t);if(a.done)return a.value;var u=r(e),f=String(this),m="function"===typeof t;m||(t=String(t));var v=u.global;if(v){var _=u.unicode;u.lastIndex=0}var b=[];while(1){var w=c(u,f);if(null===w)break;if(b.push(w),!v)break;var k=String(w[0]);""===k&&(u.lastIndex=o(f,s(u.lastIndex),_))}for(var y="",x=0,C=0;C<b.length;C++){w=b[C];for(var D=String(w[0]),E=l(d(n(w.index),f.length),0),S=[],O=1;O<w.length;O++)S.push(g(w[O]));var j=w.groups;if(m){var I=[D].concat(S,E,f);void 0!==j&&I.push(j);var R=String(t.apply(void 0,I))}else R=h(D,f,E,S,j,t);E>=x&&(y+=f.slice(x,E)+R,x=E+D.length)}return y+f.slice(x)}];function h(e,t,r,s,n,o){var c=r+e.length,l=s.length,d=m;return void 0!==n&&(n=a(n),d=f),i.call(o,d,(function(i,a){var o;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(c);case"<":o=n[a.slice(1,-1)];break;default:var d=+a;if(0===d)return i;if(d>l){var f=u(d/10);return 0===f?i:f<=l?void 0===s[f-1]?a.charAt(1):s[f-1]+a.charAt(1):i}o=s[d-1]}return void 0===o?"":o}))}}))},a923:function(e,t,i){"use strict";i("c5f6");var r=function(e){return document.queryCommandState(e)},a=function(e){return document.queryCommandValue(e)},s=["bold","italic","underline",{icon:'<img src="/images/increase_font.svg" />',title:"Increase Font Size",state:function(){return r("fontSize")},result:function(){return window.pell.exec("fontSize",Math.min(Number(a("FontSize"))+1,7))}},{icon:'<img src="/images/decrease_font.svg" />',title:"Decrease Font Size",state:function(){return r("fontSize")},result:function(){return window.pell.exec("fontSize",Math.max(Number(a("FontSize"))-1,1))}},{icon:'<i class="nc-icon nc-align-left-2"></i>',title:"Align Left",state:function(){return r("justifyLeft")},result:function(){return window.pell.exec("justifyLeft")}},{icon:'<i class="nc-icon nc-align-center"></i>',title:"Align Center",state:function(){return r("justifyCenter")},result:function(){return window.pell.exec("justifyCenter")}},{icon:'<i class="nc-icon nc-align-left-2" style="transform:rotateZ(180deg);margin-top:5px"></i>',title:"Align Right",state:function(){return r("justifyRight")},result:function(){return window.pell.exec("justifyRight")}},"olist","ulist",{name:"link",result:function(){var e=window.prompt("Enter the link URL");e&&window.pell.exec("createLink",e)}}];t["a"]=s},b0c5:function(e,t,i){"use strict";var r=i("520a");i("5ca1")({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},bcb6:function(e,t,i){"use strict";i.d(t,"d",(function(){return r})),i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return s})),i.d(t,"c",(function(){return n})),i.d(t,"e",(function(){return o}));i("a481"),i("ac6a"),i("28a5");var r=function(e){return e.split(" ").filter((function(e){return""!==e})).join("-").toLowerCase()},a=function(e){return e.split("-")[0]},s=function(e){return e.split("-").slice(1).join(" ")},n=function(e){return e.replace(/"/g,"'")},o=function(e){return e.replace(/'/g,'"')}},df73:function(e,t,i){},ede8:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return void 0!==e.fieldErrors?i("span",e._l(e.fieldErrors,(function(t,r){return i("p",{key:r,staticClass:"error-message"},[e._v("\n    "+e._s(t)+"\n  ")])})),0):e._e()},a=[],s={props:["fieldErrors"]},n=s,o=i("2877"),c=Object(o["a"])(n,r,a,!1,null,null,null);t["a"]=c.exports},f9a7:function(e,t,i){"use strict";var r=i("1f8d"),a=i.n(r);a.a}}]);
//# sourceMappingURL=WorksAddEdit.cbf5fb33.js.map