(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["HeroSlidesAddEdit"],{"0203":function(e,t,i){},"0d39":function(e,t,i){"use strict";i("d3bc")},1485:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"preview-image"},[e.disabled?e._e():i("div",{staticClass:"close",attrs:{role:"button"},on:{click:e.fireDeleteModal}},[e._v(" × ")]),i("img",{attrs:{src:e.image.url,alt:"preview"}})])},a=[],r={props:["image","setShowDeleteDialogFlag","openedFor","imageIndex","disabled"],methods:{fireDeleteModal:function(){this.setShowDeleteDialogFlag(!0,this.image.id,this.openedFor,this.imageIndex,"image")}}},n=r,o=(i("19cf"),i("2877")),l=Object(o["a"])(n,s,a,!1,null,"1f659b06",null);t["a"]=l.exports},"19cf":function(e,t,i){"use strict";i("0203")},"4cdf":function(e,t,i){"use strict";i("9a0d")},"50e7":function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"delete-modal",style:e.showFlag?"display:block":"display:none",on:{click:function(t){return e.setShowDeleteDialogFlag(!1)}}},[i("div",{staticClass:"delete-modal-content",on:{click:function(e){e.stopPropagation()}}},[i("div",{staticClass:"delete-modal-header"},[i("span",{staticClass:"close",on:{click:function(t){return e.setShowDeleteDialogFlag(!1)}}},[e._v("×")]),i("h2",[e._v("Delete "+e._s(e.item))])]),i("div",{staticClass:"delete-modal-body"},[i("form",[i("div",{staticClass:"form-group delete-modal-body__text"},[i("p",[e._v("Do you want to delete this "+e._s(e.item.toLowerCase())+"?")])]),i("button",{staticClass:"btn float-right",attrs:{type:"button"},on:{click:function(t){return e.setShowDeleteDialogFlag(!1)}}},[e._v(" Cancel ")]),i("button",{staticClass:"btn btn-danger float-right",attrs:{type:"button"},on:{click:e.deleteAction}},[e._v(" Delete ")])])])])])},a=[],r={props:["showFlag","setShowDeleteDialogFlag","item","deleteAction"]},n=r,o=(i("f9a7"),i("2877")),l=Object(o["a"])(n,s,a,!1,null,"d3f2235c",null);t["a"]=l.exports},"54e2":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._m(0),i("h4",{staticClass:"card-name",attrs:{slot:"header"},slot:"header"},[e._v(e._s(e.operation))]),i("form",[i("div",{staticClass:"row"},[i("div",{staticClass:"col-12 col-md-6"},[i("base-input",{attrs:{type:"number",label:"Order",placeholder:"Enter Order",autofocus:!0},model:{value:e.slide.order,callback:function(t){e.$set(e.slide,"order",t)},expression:"slide.order"}}),i("ErrorMessage",{attrs:{fieldErrors:e.errors.order}})],1),i("div",{staticClass:"col-12 col-md-6"},[i("div",{staticClass:"form-group"},[i("label",[e._v("Media Type")]),i("select",{directives:[{name:"model",rawName:"v-model",value:e.slide.type,expression:"slide.type"}],staticClass:"form-control",on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.slide,"type",t.target.multiple?i:i[0])},function(t){return e.setRequiredFieldsAccrodingToContentType(t.target.value)}]}},[i("option",{domProps:{selected:e.slide.type===e.MEDIA_TYPES.NONE,value:e.MEDIA_TYPES.NONE}},[e._v("none")]),i("option",{domProps:{selected:e.slide.type===e.MEDIA_TYPES.IMG,value:e.MEDIA_TYPES.IMG}},[e._v("image")]),i("option",{domProps:{selected:e.slide.type===e.MEDIA_TYPES.VIDEO,value:e.MEDIA_TYPES.VIDEO}},[e._v("video")])]),i("ErrorMessage",{attrs:{fieldErrors:e.errors.type}})],1)])]),i("div",{staticClass:"row mt-3 mb-3"},[i("div",{staticClass:"col-12 col-md-6"},[i("base-input",{attrs:{type:"text",label:"More Info URL",placeholder:"Enter More Info URL"},model:{value:e.slide.url,callback:function(t){e.$set(e.slide,"url",t)},expression:"slide.url"}}),i("ErrorMessage",{attrs:{fieldErrors:e.errors.url}})],1),i("div",{staticClass:"col-12 col-md-3 mt-auto mb-auto"},[i("div",{staticClass:"custom-control custom-switch"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.slide.isAutoPlay,expression:"slide.isAutoPlay"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"isAutoPlay"},domProps:{checked:Array.isArray(e.slide.isAutoPlay)?e._i(e.slide.isAutoPlay,null)>-1:e.slide.isAutoPlay},on:{change:[function(t){var i=e.slide.isAutoPlay,s=t.target,a=!!s.checked;if(Array.isArray(i)){var r=null,n=e._i(i,r);s.checked?n<0&&e.$set(e.slide,"isAutoPlay",i.concat([r])):n>-1&&e.$set(e.slide,"isAutoPlay",i.slice(0,n).concat(i.slice(n+1)))}else e.$set(e.slide,"isAutoPlay",a)},e.updateVideoData]}}),i("label",{staticClass:"custom-control-label",attrs:{for:"isAutoPlay"}},[e._v("Is Autoplay Video")])])]),i("div",{staticClass:"col-12 col-md-3 mt-auto mb-auto"},[i("div",{staticClass:"custom-control custom-switch"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.slide.isEnabled,expression:"slide.isEnabled"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"isEnabled"},domProps:{checked:Array.isArray(e.slide.isEnabled)?e._i(e.slide.isEnabled,null)>-1:e.slide.isEnabled},on:{change:function(t){var i=e.slide.isEnabled,s=t.target,a=!!s.checked;if(Array.isArray(i)){var r=null,n=e._i(i,r);s.checked?n<0&&e.$set(e.slide,"isEnabled",i.concat([r])):n>-1&&e.$set(e.slide,"isEnabled",i.slice(0,n).concat(i.slice(n+1)))}else e.$set(e.slide,"isEnabled",a)}}}),i("label",{staticClass:"custom-control-label",attrs:{for:"isEnabled"}},[e._v("Published")])])])]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-12"},[i("base-input",{attrs:{type:"text",label:"Tile",placeholder:"Enter Title",isRequired:e.slide.type===e.MEDIA_TYPES.TITLE},model:{value:e.slide.title,callback:function(t){e.$set(e.slide,"title",t)},expression:"slide.title"}}),e.slide.type===e.MEDIA_TYPES.TITLE?i("div",[i("ErrorMessage",{attrs:{fieldErrors:e.errors.title}})],1):e._e()],1)]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-12"},[i("div",{staticClass:"form-group"},[i("label",[e._v("Description"),e.slide.type===e.MEDIA_TYPES.DESCRIPTION?i("span",{staticClass:"error-message"},[e._v(" *")]):e._e()]),i("vue-pell-editor",{attrs:{actions:e.editorOptions,"style-with-css":!1,placeholder:""},model:{value:e.slide.description,callback:function(t){e.$set(e.slide,"description",t)},expression:"slide.description"}}),e.slide.type===e.MEDIA_TYPES.DESCRIPTION?i("div",[i("ErrorMessage",{attrs:{fieldErrors:e.errors.description}})],1):e._e()],1)])]),i("div",{staticClass:"row mb-3"},[i("div",{staticClass:"col"},[i("div",[i("label",{staticClass:"mr-5"},[e._v("Choose Content Images"),e.slide.type===e.MEDIA_TYPES.IMG||e.slide.type===e.MEDIA_TYPES.SLIDER?i("span",{staticClass:"error-message"},[e._v(" *")]):e._e()]),i("input",{ref:"img_main",attrs:{type:"file",id:"media-images",accept:"image/png, image/jpeg, image/gif",multiple:e.slide.type===e.MEDIA_TYPES.SLIDER},on:{change:function(t){return e.setFile(t,"img_main")}}}),i("br"),void 0!==e.editData&&"Edit Home Hero Slide"===e.operation&&null!==e.editData.img_main&&""!==e.editData.img_main?i("div",{staticClass:"image-preview-list"},[i("ImagePreview",{attrs:{image:e.editData.img_main,setShowDeleteDialogFlag:e.setImageDataFlag,openedFor:"img_main"}})],1):e._e(),e.slide.type===e.MEDIA_TYPES.IMG||e.slide.type===e.MEDIA_TYPES.SLIDER?i("div",[i("ErrorMessage",{attrs:{fieldErrors:e.errors.img_main}})],1):e._e()])])]),i("div",{staticClass:"row mb-3"},[i("div",{staticClass:"col"},[i("div",[i("label",{staticClass:"mr-5"},[e._v("Choose Content Videos"),e.slide.type===e.MEDIA_TYPES.VIDEO?i("span",{staticClass:"error-message"},[e._v(" *")]):e._e()]),i("input",{ref:"vid_main",attrs:{type:"file",id:"logo",accept:"video/*"},on:{change:function(t){return e.setFile(t,"vid_main")}}}),i("br"),void 0!==e.editData&&"Edit Home Hero Slide"===e.operation&&null!==e.editData.vid_main&&""!==e.editData.vid_main?i("div",{staticClass:"image-preview-list"},[i("VideoPreview",{attrs:{video:e.editData.vid_main,setShowDeleteDialogFlag:e.setVideoDataFlag,openedFor:"vid_main"}})],1):e._e(),e.slide.type===e.MEDIA_TYPES.VIDEO?i("div",[i("ErrorMessage",{attrs:{fieldErrors:e.errors.vid_main}})],1):e._e()])])]),i("div",{staticClass:"text-center"},[i("button",{staticClass:"btn btn-info btn-fill float-right",attrs:{type:"button"},on:{click:e.saveData}},[e._v(" Save ")])]),i("div",{staticClass:"clearfix"}),i("DeleteDialog",{attrs:{showFlag:e.showFlag,setShowDeleteDialogFlag:"video"===e.contentType?e.setVideoDataFlag:e.setImageDataFlag,item:"video"===e.contentType?"Video":"Image",deleteAction:"video"===e.contentType?e.removeVideo:e.removeImage}})],1)])},a=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("nav",{attrs:{"aria-label":"breadcrumb"}},[i("ol",{staticClass:"breadcrumb"},[i("li",{staticClass:"breadcrumb-item"},[i("a",{attrs:{href:"/dashboard/home-hero-slides"}},[e._v("Home Hero Slides")])])])])}],r=(i("8e6e"),i("cadf"),i("456d"),i("ac6a"),i("96cf"),i("3b8d")),n=i("bd86"),o=i("2f62"),l=i("ede8"),c=i("6e87"),d=i("62c4"),u=i("a923"),p=i("1485"),m=i("a50b"),f=i("50e7"),h=i("bcb6"),v=i("a087");function g(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function b(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?g(Object(i),!0).forEach((function(t){Object(n["a"])(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):g(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var y={order:1,type:v["NONE"],title:"",url:"",description:"",isAutoPlay:!1,isEnabled:!1,img_main:"",vid_main:""},E={data:function(){return{editData:this.$router.history.current.params.data,operation:this.$route.name,slide:b({},y),openedFor:"",contentType:"",imageIndex:null,showFlag:!1,imageId:null,videoId:null,errors:{},validation:{order:{isRequired:!1},type:{isRequired:!1},url:{isRequired:!1},title:{isRequired:!1},description:{isRequired:!1},"is auto play":{isRequired:!1},published:{isRequired:!1},"images main":{isRequired:!1},"videos main":{isRequired:!1}},aliases:{order:"order",type:"type",title:"title",url:"url",description:"description",isAutoPlay:"is auto play",isEnabled:"published",img_main:"images main",vid_main:"videos main"},editorOptions:u["a"]}},computed:{MEDIA_TYPES:function(){return v}},methods:b(b({},Object(o["b"])({createHomeHeroSlide:c["a"].home.actions.CREATE_HERO_SLIDER,updateHomeHeroSlide:c["a"].home.actions.UPDATE_HERO_SLIDER,updateVideo:c["a"].services.actions.UPDATE_VIDEO,deleteImage:c["a"].app.actions.DELETE_IMAGE,deleteVideo:c["a"].app.actions.DELETE_VIDEO})),{},{updateVideoData:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("Edit Home Hero Slide"!==this.operation||this.editData.type!==v["VIDEO"]){e.next=4;break}return t={videoId:this.slide.vid_main.id,isAutoPlay:this.slide.isAutoPlay},e.next=4,this.updateVideo(t);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),setRequiredFieldsAccrodingToContentType:function(e){var t,i=this,s=["title","description","images main","videos main"];switch(e){case v["TITLE"]:t="title";break;case v["DESCRIPTION"]:t="description";break;case v["IMG"]:t="images main";break;case v["SLIDER"]:t="images main";break;case v["VIDEO"]:t="videos main";break;default:break}s.forEach((function(e){i.validation[e].isRequired=e===t}))},setFile:function(e,t){var i=e.target.files;i.length&&(this.slide[t]=i)},setImageDataFlag:function(e,t,i,s,a){this.showFlag=e,this.imageId=t,this.openedFor=i,this.imageIndex=s,this.contentType=a},setVideoDataFlag:function(e,t,i,s,a){this.showFlag=e,this.videoId=t,this.openedFor=i,this.videoIndex=s,this.contentType=a},saveData:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,i,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=Object(d["a"])(this.slide,this.aliases,this.validation),this.errors=b({},t.errors),0===t.length){e.next=4;break}return e.abrupt("return");case 4:if(e.prev=4,i={title:this.slide.title,description:Object(h["d"])(this.slide.description),order:this.slide.order,url:this.slide.url,type:this.slide.type,isAutoPlay:this.slide.isAutoPlay,isEnabled:this.slide.isEnabled,imagesData:{img_main:this.$refs.img_main.files},videosData:{vid_main:this.$refs.vid_main.files}},"Edit Home Hero Slide"!==this.operation){e.next=12;break}return e.next=9,this.updateHomeHeroSlide(b(b({},i),{},{slideId:this.editData.id}));case 9:this.notifyVue("Home Hero Slide Updated Successfully","success"),e.next=15;break;case 12:return e.next=14,this.createHomeHeroSlide(b(b({},i),{},{isAutoPlay:this.slide.isAutoPlay}));case 14:this.notifyVue("Home Hero Slide Created Successfully","success");case 15:this.$router.push("/dashboard/home-hero-slides"),this.slide=b({},y),this.$refs.img_main.value=null,this.$refs.vid_main.value=null,e.next=24;break;case 21:e.prev=21,e.t0=e["catch"](4),JSON.parse(e.t0).forEach((function(e){s.notifyVue(e.message,"danger")}));case 24:case"end":return e.stop()}}),e,this,[[4,21]])})));function t(){return e.apply(this,arguments)}return t}(),removeImage:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.deleteImage(this.imageId);case 2:e.t0=this.openedFor,e.next="img_main"===e.t0?5:8;break;case 5:return this.slide.img_main="",this.editData.img_main="",e.abrupt("break",9);case 8:return e.abrupt("break",9);case 9:this.notifyVue("Image Deleted Successfully","success"),this.setImageDataFlag(!1,null,"",null,"");case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),removeVideo:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.deleteVideo(this.videoId);case 2:e.t0=this.openedFor,e.next="vid_main"===e.t0?5:8;break;case 5:return this.slide.vid_main="",this.editData.vid_main="",e.abrupt("break",9);case 8:return e.abrupt("break",9);case 9:this.notifyVue("Video Deleted Successfully","success"),this.setVideoDataFlag(!1,null,"",null,"");case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),notifyVue:function(e,t){this.$notifications.notify({message:"<span>".concat(e,"</span>"),horizontalAlign:"right",verticalAlign:"top",type:t})}}),beforeMount:function(){this.$router.history.current.params.data||"Edit Home Hero Slide"!==this.$route.name||this.$router.push({path:"/dashboard/home-hero-slides"})},mounted:function(){"Edit Home Hero Slide"===this.$route.name&&(this.slide.title=this.editData.title,this.slide.description=this.editData.description,this.slide.order=this.editData.order,this.slide.url=this.editData.url||"",this.slide.type=this.editData.type,this.slide.isEnabled=this.editData.is_enabled,this.slide.isAutoPlay=!!this.editData.vid_main&&this.editData.vid_main.is_auto_play,this.slide.img_main=this.editData.img_main||"",this.slide.vid_main=this.editData.vid_main||"",this.setRequiredFieldsAccrodingToContentType(this.editData.type))},components:{ErrorMessage:l["a"],ImagePreview:p["a"],DeleteDialog:f["a"],VideoPreview:m["a"]}},_=E,D=(i("0d39"),i("2877")),w=Object(D["a"])(_,s,a,!1,null,null,null);t["default"]=w.exports},"62c4":function(e,t,i){"use strict";i("8e6e"),i("cadf"),i("456d"),i("ac6a");var s=i("bd86"),a=function(e){var t=/^([a-zA-Z0-9])(([a-zA-Z0-9])*([\._\+-])*([a-zA-Z0-9]))*@(([a-zA-Z0-9\-])+(\.))+([a-zA-Z]{2,4})+$/;return t.test(e)},r=a;function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach((function(t){Object(s["a"])(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var l=function(e,t,i){var s=[];return""!==e&&"-1"!==e&&0!==e.length||!t.isRequired||s.push("".concat(i," is required")),e.length<t.minLength&&s.push("".concat(i," at least ").concat(t.minLength," character")),t.isEmail&&!r(e)&&s.push("Invalid email format"),t.isFile&&""===e&&s.push("Please choose proper file"),s},c=function(e,t,i,a){var r={};return r=o(o({},r),{},Object(s["a"])({},t,l(e,a[i],i))),r},d=function(e,t,i){var s={},a=0;return Object.keys(e).forEach((function(a){s=o(o({},s),c(e[a],a,t[a],i))})),Object.keys(s).forEach((function(e){return a+=s[e].length})),{errors:s,length:a}};t["a"]=d},"6c8e":function(e,t,i){},"9a0d":function(e,t,i){},a087:function(e,t,i){"use strict";i.r(t),i.d(t,"IMG",(function(){return s})),i.d(t,"SLIDER",(function(){return a})),i.d(t,"VIDEO",(function(){return r})),i.d(t,"NONE",(function(){return n}));var s="IMG",a="SLIDER",r="VIDEO",n="NONE"},a50b:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"preview-video"},[i("div",{staticClass:"close",attrs:{role:"button"},on:{click:e.fireDeleteModal}},[e._v(" × ")]),i("video",{staticStyle:{width:"100%"},attrs:{preload:"auto",autoplay:"",muted:"",loop:""},domProps:{muted:!0}},[i("source",{attrs:{src:e.video.url,type:"video/mp4"}})])])},a=[],r={props:["video","setShowDeleteDialogFlag","openedFor","videoIndex"],methods:{fireDeleteModal:function(){this.setShowDeleteDialogFlag(!0,this.video.id,this.openedFor,this.videoIndex,"video")}}},n=r,o=(i("4cdf"),i("2877")),l=Object(o["a"])(n,s,a,!1,null,"c58c49fa",null);t["a"]=l.exports},a923:function(e,t,i){"use strict";i("c5f6");var s=function(e){return document.queryCommandState(e)},a=function(e){return document.queryCommandValue(e)},r=["bold","italic","underline",{icon:'<img src="/images/increase_font.svg" />',title:"Increase Font Size",state:function(){return s("fontSize")},result:function(){return window.pell.exec("fontSize",Math.min(Number(a("FontSize"))+1,7))}},{icon:'<img src="/images/decrease_font.svg" />',title:"Decrease Font Size",state:function(){return s("fontSize")},result:function(){return window.pell.exec("fontSize",Math.max(Number(a("FontSize"))-1,1))}},{icon:'<i class="nc-icon nc-align-left-2"></i>',title:"Align Left",state:function(){return s("justifyLeft")},result:function(){return window.pell.exec("justifyLeft")}},{icon:'<i class="nc-icon nc-align-center"></i>',title:"Align Center",state:function(){return s("justifyCenter")},result:function(){return window.pell.exec("justifyCenter")}},{icon:'<i class="nc-icon nc-align-left-2" style="transform:rotateZ(180deg);margin-top:5px"></i>',title:"Align Right",state:function(){return s("justifyRight")},result:function(){return window.pell.exec("justifyRight")}},"olist","ulist",{name:"link",result:function(){var e=window.prompt("Enter the link URL");e&&window.pell.exec("createLink",e)}}];t["a"]=r},d3bc:function(e,t,i){},ede8:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return void 0!==e.fieldErrors?i("span",e._l(e.fieldErrors,(function(t,s){return i("p",{key:s,staticClass:"error-message"},[e._v(" "+e._s(t)+" ")])})),0):e._e()},a=[],r={props:["fieldErrors"]},n=r,o=i("2877"),l=Object(o["a"])(n,s,a,!1,null,null,null);t["a"]=l.exports},f9a7:function(e,t,i){"use strict";i("6c8e")}}]);
//# sourceMappingURL=HeroSlidesAddEdit.2ba3ce7e.js.map