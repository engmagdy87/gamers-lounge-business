(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["SettingsAddEdit"],{"0203":function(e,t,i){},1485:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"preview-image"},[e.disabled?e._e():i("div",{staticClass:"close",attrs:{role:"button"},on:{click:e.fireDeleteModal}},[e._v(" × ")]),i("img",{attrs:{src:e.image.url,alt:"preview"}})])},r=[],a={props:["image","setShowDeleteDialogFlag","openedFor","imageIndex","disabled"],methods:{fireDeleteModal:function(){this.setShowDeleteDialogFlag(!0,this.image.id,this.openedFor,this.imageIndex,"image")}}},n=a,o=(i("19cf"),i("2877")),c=Object(o["a"])(n,s,r,!1,null,"1f659b06",null);t["a"]=c.exports},"19cf":function(e,t,i){"use strict";i("0203")},2865:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isSettingsFetched?i("div",[i("div",{staticClass:"row"},[e._m(0),i("div",{staticClass:"col-6"},[i("button",{staticClass:"btn btn-secondary d-block ml-auto heading-margin-title",staticStyle:{"margin-bottom":"10px !important"},attrs:{type:"button"},on:{click:e.toggleEditMode}},[e._v(" "+e._s(e.editMode?"Exit Edit Mode":"Edit Settings Data")+" ")])])]),i("form",[i("div",{staticClass:"row mt-3 mb-3"},[i("div",{staticClass:"col"},[i("div",[i("label",{staticClass:"mr-5",attrs:{for:"logo"}},[e._v("Choose Services Cover Image")]),i("input",{ref:"img_services_cover",attrs:{type:"file",id:"logo",accept:"image/png, image/jpeg",disabled:!e.editMode},on:{change:function(t){return e.setFile(t,"img_services_cover")}}}),i("br"),""!==e.settings.img_services_cover&&null!==e.settings.img_services_cover&&void 0!==e.settings.img_services_cover.url?i("ImagePreview",{attrs:{image:e.settings.img_services_cover,setShowDeleteDialogFlag:e.setImageDataFlag,openedFor:"img_services_cover",disabled:!e.editMode}}):e._e()],1)])]),i("div",{staticClass:"row mt-3 mb-3"},[i("div",{staticClass:"col"},[i("div",[i("label",{staticClass:"mr-5",attrs:{for:"logo"}},[e._v("Choose Home Cover Image")]),i("input",{ref:"img_home_cover",attrs:{type:"file",id:"logo",accept:"image/png, image/jpeg",disabled:!e.editMode},on:{change:function(t){return e.setFile(t,"img_home_cover")}}}),i("br"),""!==e.settings.img_home_cover&&null!==e.settings.img_home_cover&&void 0!==e.settings.img_home_cover.url?i("ImagePreview",{attrs:{image:e.settings.img_home_cover,setShowDeleteDialogFlag:e.setImageDataFlag,openedFor:"img_home_cover",disabled:!e.editMode}}):e._e()],1)])]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-12",staticStyle:{height:"60px"}},[i("div",{staticClass:"text-center"},[i("button",{directives:[{name:"show",rawName:"v-show",value:e.editMode,expression:"editMode"}],staticClass:"btn btn-info btn-fill float-right mt-2",attrs:{type:"button"},on:{click:e.saveData}},[e._v(" Save ")])])])])]),i("DeleteDialog",{attrs:{showFlag:e.showFlag,item:"Image",deleteAction:e.removeImage,setShowDeleteDialogFlag:e.setImageDataFlag}})],1):e._e()},r=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"col-6 m-auto"},[i("h2",{staticClass:"heading-margin heading-margin-sections",staticStyle:{margin:"0 0 40px 0 !important"}},[e._v(" Settings ")])])}],a=(i("8e6e"),i("ac6a"),i("cadf"),i("456d"),i("96cf"),i("3b8d")),n=i("bd86"),o=i("2f62"),c=i("50e7"),l=i("1485"),g=i("62c4"),u=i("6e87");function m(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function v(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?m(Object(i),!0).forEach((function(t){Object(n["a"])(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var h={img_services_cover:"",img_home_cover:""},d={data:function(){return{settings:v({},h),openedFor:"",showFlag:!1,editMode:!1,imageId:null,errors:{},validation:{"home cover image":{isRequired:!1},"serives cover image":{isRequired:!1}},aliases:{img_home_cover:"home cover image",img_services_cover:"serives cover image"}}},computed:v({},Object(o["d"])({settingsData:function(e){return e.settings.settings},isSettingsFetched:function(e){return e.settings.isSettingsDataFetched}})),watch:{settingsData:function(){this.settingsData&&(this.settings.img_home_cover=this.settingsData.img_home_cover||"",this.settings.img_services_cover=this.settingsData.img_services_cover||"")}},methods:v(v({},Object(o["b"])({fetchSettings:u["a"].settings.actions.FETCH_SETTINGS,createSettings:u["a"].settings.actions.CREATE_SETTING,updateSettings:u["a"].settings.actions.UPDATE_SETTING,deleteImage:u["a"].app.actions.DELETE_IMAGE})),{},{toggleEditMode:function(){this.editMode=!this.editMode},setImageDataFlag:function(e,t,i){this.showFlag=e,this.imageId=t,this.openedFor=i},saveData:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,i,s,r,a,n,o,c,l,u,m,h,d,f,_=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=Object(g["a"])(this.settings,this.aliases,this.validation),this.errors=v({},i.errors),0===i.length){e.next=4;break}return e.abrupt("return");case 4:if(e.prev=4,s={},0===Object.keys(this.settingsData).length){e.next=18;break}return r={},a=this.settings,n=a.img_home_cover,o=a.img_services_cover,n.url||""===n||(r=v(v({},r),{},{img_home_cover:n})),o.url||""===o||(r=v(v({},r),{},{img_services_cover:o})),Object.keys(r).length>0&&(s=v(v({},s),{},{imagesData:r})),e.next=14,this.updateSettings(v(v({},s),{},{id:this.settingsData.id}));case 14:t=e.sent,this.notifyVue("Settings Updated Successfully","success"),e.next=27;break;case 18:return c={},l=this.settings,u=l.img_home_cover,m=l.img_services_cover,u.url||""===u||(c=v(v({},c),{},{img_home_cover:u})),m.url||""===m||(c=v(v({},c),{},{img_services_cover:m})),Object.keys(c).length>0&&(s=v(v({},s),{},{imagesData:c})),e.next=25,this.createSettings(s);case 25:t=e.sent,this.notifyVue("Settings Created Successfully","success");case 27:this.editMode=!1,this.errors={},h=t,d=h.img_home_cover,f=h.img_services_cover,this.$refs.img_home_cover.value=null,this.$refs.img_services_cover.value=null,this.settings={img_home_cover:d,img_services_cover:f},e.next=38;break;case 35:e.prev=35,e.t0=e["catch"](4),JSON.parse(e.t0).forEach((function(e){_.notifyVue(e.message,"danger")}));case 38:case"end":return e.stop()}}),e,this,[[4,35]])})));function t(){return e.apply(this,arguments)}return t}(),removeImage:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.deleteImage(this.imageId);case 2:e.t0=this.openedFor,e.next="img_home_cover"===e.t0?5:"img_services_cover"===e.t0?9:13;break;case 5:return this.settingsData.img_home_cover="",this.settings.img_home_cover="",this.$refs.img_home_cover.value=null,e.abrupt("break",14);case 9:return this.settingsData.img_services_cover="",this.settings.img_services_cover="",this.$refs.img_services_cover.value=null,e.abrupt("break",14);case 13:return e.abrupt("break",14);case 14:this.notifyVue("Image Deleted Successfully","success"),this.setImageDataFlag(!1,null,"",null);case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),setFile:function(e,t){var i=e.target.files;i.length&&(this.settings[t]=i[0])},isSettingsDataExists:function(){return 0===Object.keys(this.settingsData).length},notifyVue:function(e,t){this.$notifications.notify({message:"<span>".concat(e,"</span>"),horizontalAlign:"right",verticalAlign:"top",type:t})}}),mounted:function(){var e={isService:!0,isHome:!0,isProfile:!0};this.fetchSettings(e)},updated:function(){this.isSettingsDataExists()&&(this.editMode=!0)},components:{DeleteDialog:c["a"],ImagePreview:l["a"]}},f=d,_=i("2877"),p=Object(_["a"])(f,s,r,!1,null,null,null);t["default"]=p.exports},"50e7":function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"delete-modal",style:e.showFlag?"display:block":"display:none",on:{click:function(t){return e.setShowDeleteDialogFlag(!1)}}},[i("div",{staticClass:"delete-modal-content",on:{click:function(e){e.stopPropagation()}}},[i("div",{staticClass:"delete-modal-header"},[i("span",{staticClass:"close",on:{click:function(t){return e.setShowDeleteDialogFlag(!1)}}},[e._v("×")]),i("h2",[e._v("Delete "+e._s(e.item))])]),i("div",{staticClass:"delete-modal-body"},[i("form",[i("div",{staticClass:"form-group delete-modal-body__text"},[i("p",[e._v("Do you want to delete this "+e._s(e.item.toLowerCase())+"?")])]),i("button",{staticClass:"btn float-right",attrs:{type:"button"},on:{click:function(t){return e.setShowDeleteDialogFlag(!1)}}},[e._v(" Cancel ")]),i("button",{staticClass:"btn btn-danger float-right",attrs:{type:"button"},on:{click:e.deleteAction}},[e._v(" Delete ")])])])])])},r=[],a={props:["showFlag","setShowDeleteDialogFlag","item","deleteAction"]},n=a,o=(i("f9a7"),i("2877")),c=Object(o["a"])(n,s,r,!1,null,"d3f2235c",null);t["a"]=c.exports},"62c4":function(e,t,i){"use strict";i("8e6e"),i("cadf"),i("456d"),i("ac6a");var s=i("bd86"),r=function(e){var t=/^([a-zA-Z0-9])(([a-zA-Z0-9])*([\._\+-])*([a-zA-Z0-9]))*@(([a-zA-Z0-9\-])+(\.))+([a-zA-Z]{2,4})+$/;return t.test(e)},a=r;function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach((function(t){Object(s["a"])(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var c=function(e,t,i){var s=[];return""!==e&&"-1"!==e&&0!==e.length||!t.isRequired||s.push("".concat(i," is required")),e.length<t.minLength&&s.push("".concat(i," at least ").concat(t.minLength," character")),t.isEmail&&!a(e)&&s.push("Invalid email format"),t.isFile&&""===e&&s.push("Please choose proper file"),s},l=function(e,t,i,r){var a={};return a=o(o({},a),{},Object(s["a"])({},t,c(e,r[i],i))),a},g=function(e,t,i){var s={},r=0;return Object.keys(e).forEach((function(r){s=o(o({},s),l(e[r],r,t[r],i))})),Object.keys(s).forEach((function(e){return r+=s[e].length})),{errors:s,length:r}};t["a"]=g},"6c8e":function(e,t,i){},f9a7:function(e,t,i){"use strict";i("6c8e")}}]);
//# sourceMappingURL=SettingsAddEdit.3ae079cf.js.map