{"version":3,"sources":["webpack:///./src/dashboard/pages/Departments/DepartmentsAddEdit.vue?c6ba","webpack:///src/dashboard/pages/Departments/DepartmentsAddEdit.vue","webpack:///./src/dashboard/pages/Departments/DepartmentsAddEdit.vue?b31f","webpack:///./src/dashboard/pages/Departments/DepartmentsAddEdit.vue","webpack:///./src/helpers/EmailValidation.js","webpack:///./src/helpers/FormValidation.js","webpack:///./src/website/shared/ErrorMessage.vue?5abe","webpack:///src/website/shared/ErrorMessage.vue","webpack:///./src/website/shared/ErrorMessage.vue?d4f7","webpack:///./src/website/shared/ErrorMessage.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_m","_v","_s","operation","slot","model","value","department","callback","$$v","$set","expression","errors","name","on","saveData","staticRenderFns","data","editData","$router","history","current","params","$route","validation","aliases","methods","notifyVue","$notifications","notify","message","horizontalAlign","verticalAlign","type","color","beforeMount","mounted","components","ErrorMessage","component","isEmailValid","emailRegEx","test","validateForm","criteria","alias","length","isRequired","push","minLength","isEmail","isFile","validateFormFields","field","validationCriteria","isValidationErrorExist","targetData","errorsLength","Object","keys","forEach","key","error","undefined","fieldErrors","_l","i","_e","props"],"mappings":"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","file":"js/DepartmentsAdd.5324fd68.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('nav',{attrs:{\"aria-label\":\"breadcrumb\"}},[_c('ol',{staticClass:\"breadcrumb\"},[_vm._m(0),_c('li',{staticClass:\"breadcrumb-item active\",attrs:{\"aria-current\":\"page\"}},[_vm._v(\" \"+_vm._s(_vm.operation)+\" \")])])]),_c('h4',{staticClass:\"card-name\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_vm._v(_vm._s(_vm.operation))]),_c('form',[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12 col-md-4\"},[_c('base-input',{attrs:{\"type\":\"text\",\"label\":\"Name\",\"placeholder\":\"Enter Name\",\"autofocus\":true,\"isRequired\":true},model:{value:(_vm.department.name),callback:function ($$v) {_vm.$set(_vm.department, \"name\", $$v)},expression:\"department.name\"}}),_c('ErrorMessage',{attrs:{\"fieldErrors\":_vm.errors.name}})],1)]),_c('div',{staticClass:\"text-center\"},[_c('button',{staticClass:\"btn btn-info btn-fill float-right\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.saveData}},[_vm._v(\" Save \")])]),_c('div',{staticClass:\"clearfix\"})])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"breadcrumb-item\"},[_c('a',{attrs:{\"href\":\"/dashboard/departments\"}},[_vm._v(\"Departments\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <nav aria-label=\"breadcrumb\">\n      <ol class=\"breadcrumb\">\n        <li class=\"breadcrumb-item\">\n          <a href=\"/dashboard/departments\">Departments</a>\n        </li>\n        <li class=\"breadcrumb-item active\" aria-current=\"page\">\n          {{ operation }}\n        </li>\n      </ol>\n    </nav>\n    <h4 slot=\"header\" class=\"card-name\">{{ operation }}</h4>\n    <form>\n      <div class=\"row\">\n        <div class=\"col-12 col-md-4\">\n          <base-input\n            type=\"text\"\n            label=\"Name\"\n            placeholder=\"Enter Name\"\n            v-model=\"department.name\"\n            :autofocus=\"true\"\n            :isRequired=\"true\"\n          >\n          </base-input>\n          <ErrorMessage :fieldErrors=\"errors.name\" />\n        </div>\n      </div>\n\n      <div class=\"text-center\">\n        <button\n          type=\"button\"\n          class=\"btn btn-info btn-fill float-right\"\n          @click=\"saveData\"\n        >\n          Save\n        </button>\n      </div>\n      <div class=\"clearfix\"></div>\n    </form>\n  </div>\n</template>\n<script>\nimport { mapActions } from \"vuex\";\nimport ErrorMessage from \"../../../website/shared/ErrorMessage\";\nimport store from \"../../../store/index\";\nimport types from \"../../../store/types\";\nimport { createDepartment } from \"../../../helpers/APIsHelper\";\nimport isValidationErrorExist from \"../../../helpers/FormValidation\";\n\nconst emptyDepartment = {\n  name: \"\"\n};\n\nexport default {\n  data() {\n    return {\n      editData: this.$router.history.current.params.data,\n      operation: this.$route.name,\n      department: {\n        ...emptyDepartment\n      },\n      errors: {},\n      validation: {\n        name: { isRequired: true }\n      },\n      aliases: {\n        name: \"name\"\n      }\n    };\n  },\n  methods: {\n    ...mapActions({\n      createDepartment: types.departments.actions.CREATE_DEPARTMENT,\n      updateDepartment: types.departments.actions.UPDATE_DEPARTMENT\n    }),\n    saveData: async function() {\n      const errorObject = isValidationErrorExist(\n        this.department,\n        this.aliases,\n        this.validation\n      );\n      this.errors = { ...errorObject.errors };\n      if (errorObject.length !== 0) return;\n      try {\n        if (this.operation === \"Edit Department\") {\n          const payload = {\n            id: this.editData.id,\n            name: this.department.name\n          };\n          await this.updateDepartment(payload);\n          this.notifyVue(\"Department Updated Successfully\", \"success\");\n        } else {\n          await this.createDepartment(this.department.name);\n          this.notifyVue(\"Department Created Successfully\", \"success\");\n        }\n        this.department = { ...emptyDepartment };\n        this.$router.push(\"/dashboard/departments\");\n      } catch (errors) {\n        JSON.parse(errors).forEach(error => {\n          this.notifyVue(error.message, \"danger\");\n        });\n      }\n    },\n    notifyVue(message, color) {\n      this.$notifications.notify({\n        message: `<span>${message}</span>`,\n        horizontalAlign: \"right\",\n        verticalAlign: \"top\",\n        type: color\n      });\n    }\n  },\n  beforeMount() {\n    if (\n      !this.$router.history.current.params.data &&\n      this.$route.name === \"Edit Department\"\n    )\n      this.$router.push({\n        path: \"/dashboard/departments\"\n      });\n  },\n  mounted() {\n    if (this.$route.name === \"Edit Department\") {\n      this.department.name = this.editData.name;\n    }\n  },\n  components: {\n    ErrorMessage\n  }\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DepartmentsAddEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DepartmentsAddEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DepartmentsAddEdit.vue?vue&type=template&id=1b90c2ef&\"\nimport script from \"./DepartmentsAddEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./DepartmentsAddEdit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","const isEmailValid = function (value) {\n    const emailRegEx = /^([a-zA-Z0-9])(([a-zA-Z0-9])*([\\._\\+-])*([a-zA-Z0-9]))*@(([a-zA-Z0-9\\-])+(\\.))+([a-zA-Z]{2,4})+$/;\n    return emailRegEx.test(value)\n};\n\nexport default isEmailValid","import isEmailValid from \"./EmailValidation\";\n\nconst validateForm = (value, criteria, alias) => {\n  let errors = [];\n  // \"\" for empty string and \"-1\" for default option in select tag\n  if (\n    (value === \"\" || value === \"-1\" || value.length === 0) &&\n    criteria.isRequired\n  )\n    errors.push(`${alias} is required`);\n\n  if (value.length < criteria.minLength)\n    errors.push(`${alias} at least ${criteria.minLength} character`);\n\n  if (criteria.isEmail && !isEmailValid(value))\n    errors.push(\"Invalid email format\");\n\n  if (criteria.isFile && value === \"\") errors.push(\"Please choose proper file\");\n\n  return errors;\n};\n\nconst validateFormFields = (value, field, alias, validationCriteria) => {\n  let errors = {};\n  errors = {\n    ...errors,\n    [field]: validateForm(value, validationCriteria[alias], alias)\n  };\n  return errors;\n};\nconst isValidationErrorExist = (targetData, aliases, validationCriteria) => {\n  let errors = {};\n  let errorsLength = 0;\n  Object.keys(targetData).forEach(key => {\n    errors = {\n      ...errors,\n      ...validateFormFields(\n        targetData[key],\n        key,\n        aliases[key],\n        validationCriteria\n      )\n    };\n  });\n  Object.keys(errors).forEach(error => (errorsLength += errors[error].length));\n  return { errors, length: errorsLength };\n};\n\nexport default isValidationErrorExist;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.fieldErrors !== undefined)?_c('span',_vm._l((_vm.fieldErrors),function(error,i){return _c('p',{key:i,staticClass:\"error-message\"},[_vm._v(\" \"+_vm._s(error)+\" \")])}),0):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <span v-if=\"fieldErrors !== undefined\">\n    <p class=\"error-message\" v-for=\"(error, i) in fieldErrors\" :key=\"i\">\n      {{ error }}\n    </p>\n  </span>\n</template>\n\n<script>\nexport default {\n  props: [\"fieldErrors\"]\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ErrorMessage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ErrorMessage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ErrorMessage.vue?vue&type=template&id=54a9e1b3&\"\nimport script from \"./ErrorMessage.vue?vue&type=script&lang=js&\"\nexport * from \"./ErrorMessage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}